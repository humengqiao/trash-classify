{"id":"KFSc","dependencies":[{"name":"/Users/humengqiao/Desktop/node-project/trash-classify/package.json","includedInParent":true,"mtime":1609565650716},{"name":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-backend-cpu/package.json","includedInParent":true,"mtime":499162500000},{"name":"@tensorflow/tfjs-core","loc":{"line":17,"column":54},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-backend-cpu/dist/kernels/MaxPoolBackprop.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/index.js"},{"name":"../cpu_util","loc":{"line":18,"column":33},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-backend-cpu/dist/kernels/MaxPoolBackprop.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-backend-cpu/dist/cpu_util.js"},{"name":"../utils/pool_utils","loc":{"line":19,"column":33},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-backend-cpu/dist/kernels/MaxPoolBackprop.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-backend-cpu/dist/utils/pool_utils.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.maxPoolBackprop=a,exports.maxPoolBackpropConfig=void 0;var e=require(\"@tensorflow/tfjs-core\"),t=require(\"../cpu_util\"),o=require(\"../utils/pool_utils\");function a(a){const{inputs:i,backend:r,attrs:l}=a,{dy:s,input:n,output:p}=i,f=n;(0,t.assertNotComplex)([n,p],\"maxPoolBackprop\");const{filterSize:d,strides:u,pad:c,dimRoundingMode:h}=l,g=e.backend_util.computePool2DInfo(f.shape,d,u,1,c,h),k=r.data.get(f.dataId).values,m=(0,e.buffer)(g.outShape,f.dtype,(0,o.maxPoolPositions)(k,f.shape,f.dtype,g).values),x=g.strideHeight,v=g.strideWidth,P=g.dilationHeight,b=g.dilationWidth,I=g.effectiveFilterHeight,y=g.effectiveFilterWidth,B=y-1-g.padInfo.left,H=I-1-g.padInfo.top,M=(0,e.buffer)(f.shape,\"float32\"),W=r.data.get(s.dataId).values,_=(0,e.buffer)(s.shape,\"float32\",W);for(let e=0;e<g.batchSize;++e)for(let t=0;t<g.inChannels;++t)for(let o=0;o<g.inHeight;++o)for(let a=0;a<g.inWidth;++a){const i=o-H,r=a-B;let l=0;for(let o=0;o<I;o+=P){const a=(i+o)/x;if(!(a<0||a>=g.outHeight||Math.floor(a)!==a))for(let i=0;i<y;i+=b){const s=(r+i)/v;if(s<0||s>=g.outWidth||Math.floor(s)!==s)continue;const n=I*y-1-m.get(e,a,s,t)===o*y+i?1:0;0!==n&&(l+=_.get(e,a,s,t)*n)}}M.set(l,e,o,a,t)}return r.makeTensorInfo(M.shape,M.dtype,M.values)}const i={kernelName:e.MaxPoolBackprop,backendName:\"cpu\",kernelFunc:a};exports.maxPoolBackpropConfig=i;"},"sourceMaps":null,"error":null,"hash":"88b0f413b88f853b35beda1a68e2cde9","cacheData":{"env":{}}}