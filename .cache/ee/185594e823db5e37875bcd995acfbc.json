{"id":"NLmr","dependencies":[{"name":"/Users/humengqiao/Desktop/node-project/trash-classify/package.json","includedInParent":true,"mtime":1609565653941},{"name":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/rc-upload/package.json","includedInParent":true,"mtime":499162500000},{"name":"@babel/runtime/helpers/esm/extends","loc":{"line":1,"column":21},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/rc-upload/es/AjaxUploader.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@babel/runtime/helpers/esm/extends.js"},{"name":"@babel/runtime/helpers/esm/defineProperty","loc":{"line":2,"column":28},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/rc-upload/es/AjaxUploader.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@babel/runtime/helpers/esm/defineProperty.js"},{"name":"@babel/runtime/helpers/esm/objectWithoutProperties","loc":{"line":3,"column":37},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/rc-upload/es/AjaxUploader.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"},{"name":"@babel/runtime/helpers/esm/slicedToArray","loc":{"line":4,"column":27},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/rc-upload/es/AjaxUploader.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"},{"name":"@babel/runtime/helpers/esm/classCallCheck","loc":{"line":5,"column":28},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/rc-upload/es/AjaxUploader.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"},{"name":"@babel/runtime/helpers/esm/createClass","loc":{"line":6,"column":25},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/rc-upload/es/AjaxUploader.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@babel/runtime/helpers/esm/createClass.js"},{"name":"@babel/runtime/helpers/esm/inherits","loc":{"line":7,"column":22},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/rc-upload/es/AjaxUploader.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@babel/runtime/helpers/esm/inherits.js"},{"name":"@babel/runtime/helpers/esm/createSuper","loc":{"line":8,"column":25},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/rc-upload/es/AjaxUploader.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@babel/runtime/helpers/esm/createSuper.js"},{"name":"react","loc":{"line":11,"column":33},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/rc-upload/es/AjaxUploader.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/react/index.js"},{"name":"classnames","loc":{"line":12,"column":23},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/rc-upload/es/AjaxUploader.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/classnames/index.js"},{"name":"rc-util/es/pickAttrs","loc":{"line":13,"column":22},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/rc-upload/es/AjaxUploader.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/rc-util/es/pickAttrs.js"},{"name":"./request","loc":{"line":14,"column":27},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/rc-upload/es/AjaxUploader.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/rc-upload/es/request.js"},{"name":"./uid","loc":{"line":15,"column":19},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/rc-upload/es/AjaxUploader.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/rc-upload/es/uid.js"},{"name":"./attr-accept","loc":{"line":16,"column":23},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/rc-upload/es/AjaxUploader.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/rc-upload/es/attr-accept.js"},{"name":"./traverseFileTree","loc":{"line":17,"column":29},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/rc-upload/es/AjaxUploader.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/rc-upload/es/traverseFileTree.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=b(require(\"@babel/runtime/helpers/esm/extends\")),t=b(require(\"@babel/runtime/helpers/esm/defineProperty\")),r=b(require(\"@babel/runtime/helpers/esm/objectWithoutProperties\")),n=b(require(\"@babel/runtime/helpers/esm/slicedToArray\")),o=b(require(\"@babel/runtime/helpers/esm/classCallCheck\")),i=b(require(\"@babel/runtime/helpers/esm/createClass\")),a=b(require(\"@babel/runtime/helpers/esm/inherits\")),u=b(require(\"@babel/runtime/helpers/esm/createSuper\")),l=v(require(\"react\")),s=b(require(\"classnames\")),c=b(require(\"rc-util/es/pickAttrs\")),f=b(require(\"./request\")),p=b(require(\"./uid\")),d=b(require(\"./attr-accept\")),h=b(require(\"./traverseFileTree\"));function y(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return y=function(){return e},e}function v(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=y();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function b(e){return e&&e.__esModule?e:{default:e}}var m=function(y){(0,a.default)(b,y);var v=(0,u.default)(b);function b(){var e;return(0,o.default)(this,b),(e=v.apply(this,arguments)).state={uid:(0,p.default)()},e.reqs={},e.onChange=function(t){var r=t.target.files;e.uploadFiles(r),e.reset()},e.onClick=function(t){var r=e.fileInput;if(r){var n=e.props,o=n.children,i=n.onClick;if(o&&\"button\"===o.type){var a=r.parentNode;a.focus(),a.querySelector(\"button\").blur()}r.click(),i&&i(t)}},e.onKeyDown=function(t){\"Enter\"===t.key&&e.onClick(t)},e.onFileDrop=function(t){var r=e.props.multiple;if(t.preventDefault(),\"dragover\"!==t.type)if(e.props.directory)(0,h.default)(Array.prototype.slice.call(t.dataTransfer.items),e.uploadFiles,function(t){return(0,d.default)(t,e.props.accept)});else{var n=Array.prototype.slice.call(t.dataTransfer.files).filter(function(t){return(0,d.default)(t,e.props.accept)});!1===r&&(n=n.slice(0,1)),e.uploadFiles(n)}},e.uploadFiles=function(t){var r=Array.prototype.slice.call(t);r.map(function(e){return e.uid=(0,p.default)(),e}).forEach(function(t){e.upload(t,r)})},e.saveFileInput=function(t){e.fileInput=t},e}return(0,i.default)(b,[{key:\"componentDidMount\",value:function(){this._isMounted=!0}},{key:\"componentWillUnmount\",value:function(){this._isMounted=!1,this.abort()}},{key:\"upload\",value:function(e,t){var r=this,n=this.props;if(n.beforeUpload){var o=n.beforeUpload(e,t);o&&\"boolean\"!=typeof o&&o.then?o.then(function(t){var n=Object.prototype.toString.call(t);\"[object File]\"!==n&&\"[object Blob]\"!==n?r.post(e):r.post(t)}).catch(function(e){console.log(e)}):!1!==o&&Promise.resolve().then(function(){r.post(e)})}else Promise.resolve().then(function(){r.post(e)})}},{key:\"post\",value:function(e){var t=this;if(this._isMounted){var r=this.props,o=r.onStart,i=r.onProgress,a=r.transformFile,u=void 0===a?function(e){return e}:a;new Promise(function(t){var n=r.action;return\"function\"==typeof n&&(n=n(e)),t(n)}).then(function(a){var l=e.uid,s=r.customRequest||f.default;Promise.resolve(u(e)).then(function(e){var t=r.data;return\"function\"==typeof t&&(t=t(e)),Promise.all([e,t])}).catch(function(e){console.error(e)}).then(function(u){var c=(0,n.default)(u,2),f=c[0],p=c[1],d={action:a,filename:r.name,data:p,file:f,headers:r.headers,withCredentials:r.withCredentials,method:r.method||\"post\",onProgress:i?function(t){i(t,e)}:null,onSuccess:function(n,o){delete t.reqs[l],r.onSuccess(n,e,o)},onError:function(n,o){delete t.reqs[l],r.onError(n,o,e)}};o(e),t.reqs[l]=s(d)})})}}},{key:\"reset\",value:function(){this.setState({uid:(0,p.default)()})}},{key:\"abort\",value:function(e){var t=this.reqs;if(e){var r=e.uid?e.uid:e;t[r]&&t[r].abort&&t[r].abort(),delete t[r]}else Object.keys(t).forEach(function(e){t[e]&&t[e].abort&&t[e].abort(),delete t[e]})}},{key:\"render\",value:function(){var n,o=this.props,i=o.component,a=o.prefixCls,u=o.className,f=o.disabled,p=o.id,d=o.style,h=o.multiple,y=o.accept,v=o.children,b=o.directory,m=o.openFileDialogOnClick,k=o.onMouseEnter,q=o.onMouseLeave,C=(0,r.default)(o,[\"component\",\"prefixCls\",\"className\",\"disabled\",\"id\",\"style\",\"multiple\",\"accept\",\"children\",\"directory\",\"openFileDialogOnClick\",\"onMouseEnter\",\"onMouseLeave\"]),g=(0,s.default)((n={},(0,t.default)(n,a,!0),(0,t.default)(n,\"\".concat(a,\"-disabled\"),f),(0,t.default)(n,u,u),n)),P=b?{directory:\"directory\",webkitdirectory:\"webkitdirectory\"}:{},M=f?{}:{onClick:m?this.onClick:function(){},onKeyDown:m?this.onKeyDown:function(){},onMouseEnter:k,onMouseLeave:q,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:\"0\"};return l.default.createElement(i,(0,e.default)({},M,{className:g,role:\"button\",style:d}),l.default.createElement(\"input\",(0,e.default)({},(0,c.default)(C,{aria:!0,data:!0}),{id:p,type:\"file\",ref:this.saveFileInput,onClick:function(e){return e.stopPropagation()},key:this.state.uid,style:{display:\"none\"},accept:y},P,{multiple:h,onChange:this.onChange})),v)}}]),b}(l.Component),k=m;exports.default=k;"},"sourceMaps":null,"error":null,"hash":"40429eb0112a9d1f5a24b6471291c519","cacheData":{"env":{}}}