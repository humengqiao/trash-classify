{"id":"Utk7","dependencies":[{"name":"/Users/humengqiao/Desktop/node-project/trash-classify/package.json","includedInParent":true,"mtime":1609565653941},{"name":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/package.json","includedInParent":true,"mtime":499162500000},{"name":"@tensorflow/tfjs-core","loc":{"line":15,"column":57},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/layers/embeddings.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/index.js"},{"name":"../backend/tfjs_backend","loc":{"line":16,"column":19},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/layers/embeddings.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/backend/tfjs_backend.js"},{"name":"../constraints","loc":{"line":17,"column":51},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/layers/embeddings.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/constraints.js"},{"name":"../engine/topology","loc":{"line":18,"column":22},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/layers/embeddings.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/engine/topology.js"},{"name":"../errors","loc":{"line":19,"column":27},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/layers/embeddings.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/errors.js"},{"name":"../initializers","loc":{"line":20,"column":53},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/layers/embeddings.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/initializers.js"},{"name":"../regularizers","loc":{"line":21,"column":53},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/layers/embeddings.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/regularizers.js"},{"name":"../utils/generic_utils","loc":{"line":22,"column":31},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/layers/embeddings.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/utils/generic_utils.js"},{"name":"../utils/types_utils","loc":{"line":23,"column":56},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/layers/embeddings.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/utils/types_utils.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Embedding=void 0;var e=require(\"@tensorflow/tfjs-core\"),t=h(require(\"../backend/tfjs_backend\")),i=require(\"../constraints\"),n=require(\"../engine/topology\"),r=require(\"../errors\"),s=require(\"../initializers\"),u=require(\"../regularizers\"),a=h(require(\"../utils/generic_utils\")),l=require(\"../utils/types_utils\");function o(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function h(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=e[r]}return i.default=e,t&&t.set(e,i),i}class p extends n.Layer{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER=\"randomUniform\",null==e.batchInputShape&&null==e.inputShape){let t=null;null!=e.batchSize&&(t=e.batchSize),null==e.inputLength?this.batchInputShape=[t,null]:this.batchInputShape=[t].concat(a.toList(e.inputLength))}this.inputDim=e.inputDim,a.assertPositiveInteger(this.inputDim,\"inputDim\"),this.outputDim=e.outputDim,a.assertPositiveInteger(this.outputDim,\"outputDim\"),this.embeddingsInitializer=(0,s.getInitializer)(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=(0,u.getRegularizer)(e.embeddingsRegularizer),this.activityRegularizer=(0,u.getRegularizer)(e.activityRegularizer),this.embeddingsConstraint=(0,i.getConstraint)(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight(\"embeddings\",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(t,i){return(0,e.tidy)(()=>this.maskZero?(t=(0,l.getExactlyOneTensor)(t),(0,e.notEqual)(t,(0,e.zerosLike)(t))):null)}computeOutputShape(e){if(e=(0,l.getExactlyOneShape)(e),null==this.inputLength)return[...e,this.outputDim];const t=a.toList(this.inputLength);if(t.length!==e.length-1)throw new r.ValueError(`\"inputLength\" is ${this.inputLength}, but received `+`input shape has shape ${e}`);{let i=0;for(let n=0;n<t.length;++n){const s=t[n],u=e[n+1];if(null!=s&&null!=u&&s!==u)throw new r.ValueError(`\"inputLength\" is ${this.inputLength}, but received `+`input shape has shape ${e}`);null==s&&(t[i]=u),i++}}return[e[0],...t,this.outputDim]}call(i,n){return(0,e.tidy)(()=>{this.invokeCallHook(i,n);let e=(0,l.getExactlyOneTensor)(i);return\"int32\"!==e.dtype&&(e=t.cast(e,\"int32\")),t.gather(this.embeddings.read(),e.as1D()).reshape((0,l.getExactlyOneShape)(this.computeOutputShape(e.shape)))})}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:(0,s.serializeInitializer)(this.embeddingsInitializer),embeddingsRegularizer:(0,u.serializeRegularizer)(this.embeddingsRegularizer),activityRegularizer:(0,u.serializeRegularizer)(this.activityRegularizer),embeddingsConstraint:(0,i.serializeConstraint)(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},t=super.getConfig();return Object.assign(e,t),e}}exports.Embedding=p,p.className=\"Embedding\",e.serialization.registerClass(p);"},"sourceMaps":null,"error":null,"hash":"619db5d9e55b00629f9549f0bdc55dd8","cacheData":{"env":{}}}