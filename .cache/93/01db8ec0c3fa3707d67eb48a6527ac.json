{"id":"Wqnn","dependencies":[{"name":"/Users/humengqiao/Desktop/node-project/trash-classify/package.json","includedInParent":true,"mtime":1609565653941},{"name":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/package.json","includedInParent":true,"mtime":499162500000},{"name":"../engine","loc":{"line":17,"column":23},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/browser.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/engine.js"},{"name":"../kernel_names","loc":{"line":18,"column":27},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/browser.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/kernel_names.js"},{"name":"../kernel_registry","loc":{"line":19,"column":26},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/browser.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/kernel_registry.js"},{"name":"../tensor","loc":{"line":20,"column":23},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/browser.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/tensor.js"},{"name":"../tensor_util_env","loc":{"line":21,"column":32},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/browser.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/tensor_util_env.js"},{"name":"./cast","loc":{"line":22,"column":21},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/browser.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/cast.js"},{"name":"./operation","loc":{"line":23,"column":19},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/browser.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/operation.js"},{"name":"./tensor3d","loc":{"line":24,"column":25},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/browser.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/tensor3d.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.toPixels=f,exports.fromPixels=void 0;var e=require(\"../engine\"),t=require(\"../kernel_names\"),n=require(\"../kernel_registry\"),r=require(\"../tensor\"),o=require(\"../tensor_util_env\"),a=require(\"./cast\"),s=require(\"./operation\"),i=require(\"./tensor3d\");let l;function d(r,o=3){if(o>4)throw new Error(\"Cannot construct Tensor with more than 4 channels from pixels.\");if(null==r)throw new Error(\"pixels passed to tf.browser.fromPixels() can not be null\");let a=!1,s=!1,d=!1,f=!1,u=!1;if(r.data instanceof Uint8Array)a=!0;else if(\"undefined\"!=typeof ImageData&&r instanceof ImageData)s=!0;else if(\"undefined\"!=typeof HTMLVideoElement&&r instanceof HTMLVideoElement)d=!0;else if(\"undefined\"!=typeof HTMLImageElement&&r instanceof HTMLImageElement)f=!0;else{if(null==r.getContext)throw new Error(\"pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, \"+`but was ${r.constructor.name}`);u=!0}if(d){const e=2;if(d&&r.readyState<e)throw new Error(\"The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.\")}if(null!=(0,n.getKernel)(t.FromPixels,e.ENGINE.backendName)){const n={pixels:r},a={numChannels:o};return e.ENGINE.runKernel(t.FromPixels,n,a)}const[m,c]=d?[r.videoWidth,r.videoHeight]:[r.width,r.height];let h,p;if(u?h=r.getContext(\"2d\").getImageData(0,0,m,c).data:s||a?h=r.data:(f||d)&&(null==l&&(l=document.createElement(\"canvas\").getContext(\"2d\")),l.canvas.width=m,l.canvas.height=c,l.drawImage(r,0,0,m,c),h=l.getImageData(0,0,m,c).data),4===o)p=new Int32Array(h);else{const e=m*c;p=new Int32Array(e*o);for(let t=0;t<e;t++)for(let e=0;e<o;++e)p[t*o+e]=h[4*t+e]}const w=[c,m,o];return(0,i.tensor3d)(p,w,\"int32\")}async function f(e,t){let n=(0,o.convertToTensor)(e,\"img\",\"toPixels\");if(!(e instanceof r.Tensor)){const e=n;n=(0,a.cast)(e,\"int32\"),e.dispose()}if(2!==n.rank&&3!==n.rank)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${n.rank}.`);const[s,i]=n.shape.slice(0,2),l=2===n.rank?1:n.shape[2];if(l>4||2===l)throw new Error(\"toPixels only supports depth of size \"+`1, 3 or 4 but got ${l}`);if(\"float32\"!==n.dtype&&\"int32\"!==n.dtype)throw new Error(`Unsupported type for toPixels: ${n.dtype}.`+\" Please use float32 or int32 tensors.\");const d=await n.data(),f=\"float32\"===n.dtype?255:1,u=new Uint8ClampedArray(i*s*4);for(let r=0;r<s*i;++r){const e=[0,0,0,255];for(let o=0;o<l;o++){const t=d[r*l+o];if(\"float32\"===n.dtype){if(t<0||t>1)throw new Error(\"Tensor values for a float32 Tensor must be in the \"+`range [0 - 1] but encountered ${t}.`)}else if(\"int32\"===n.dtype&&(t<0||t>255))throw new Error(\"Tensor values for a int32 Tensor must be in the \"+`range [0 - 255] but encountered ${t}.`);1===l?(e[0]=t*f,e[1]=t*f,e[2]=t*f):e[o]=t*f}const t=4*r;u[t+0]=Math.round(e[0]),u[t+1]=Math.round(e[1]),u[t+2]=Math.round(e[2]),u[t+3]=Math.round(e[3])}if(null!=t){t.width=i,t.height=s;const e=t.getContext(\"2d\"),n=new ImageData(u,i,s);e.putImageData(n,0,0)}return n!==e&&n.dispose(),u}const u=(0,s.op)({fromPixels_:d});exports.fromPixels=u;"},"sourceMaps":null,"error":null,"hash":"78705bb3ca52d9be6668d7c178918f7a","cacheData":{"env":{}}}