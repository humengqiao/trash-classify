{"id":"xlhc","dependencies":[{"name":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-backend-cpu/dist/kernels/BatchMatMul.js.map","includedInParent":true,"mtime":499162500000},{"name":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-backend-cpu/src/kernels/BatchMatMul.ts","includedInParent":true,"mtime":499162500000},{"name":"/Users/humengqiao/Desktop/node-project/trash-classify/package.json","includedInParent":true,"mtime":1609563562293},{"name":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-backend-cpu/package.json","includedInParent":true,"mtime":499162500000},{"name":"@tensorflow/tfjs-core","loc":{"line":17,"column":42},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-backend-cpu/dist/kernels/BatchMatMul.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/index.js"},{"name":"../cpu_util","loc":{"line":18,"column":33},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-backend-cpu/dist/kernels/BatchMatMul.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-backend-cpu/dist/cpu_util.js"},{"name":"./Reshape","loc":{"line":19,"column":24},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-backend-cpu/dist/kernels/BatchMatMul.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-backend-cpu/dist/kernels/Reshape.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.batchMatMul=a,exports.batchMatMulConfig=void 0;var e=require(\"@tensorflow/tfjs-core\"),t=require(\"../cpu_util\"),s=require(\"./Reshape\");function a(a){const{inputs:n,backend:r,attrs:o}=a,{a:p,b:h}=n,{transposeA:i,transposeB:u}=o;(0,t.assertNotComplex)([p,h],\"matMul\");const l=p.shape.length,c=h.shape.length,d=i?p.shape[l-2]:p.shape[l-1],m=u?h.shape[c-1]:h.shape[c-2],f=i?p.shape[l-1]:p.shape[l-2],M=u?h.shape[c-2]:h.shape[c-1],b=p.shape.slice(0,-2),k=h.shape.slice(0,-2),x=e.util.sizeFromShape(b),$=e.util.sizeFromShape(k),v=x===$||1===x||1===$;e.util.assert(l>=2&&c>=2&&v,()=>\"Error in matMul: the input batch dimensions must either be the same or at least one input batch dimension must be 1. Got input \"+`batch dimensions of (${b}) and (${k}).`);const I=(x>$?p.shape.slice(0,-2):h.shape.slice(0,-2)).concat([f,M]);e.util.assert(d===m,()=>`Error in matMul: inner shapes (${d}) and (`+`${m}) of Tensors with shapes ${p.shape} and `+`${h.shape} and transposeA=${i}`+` and transposeB=${u} must match.`);const g=i?[x,d,f]:[x,f,d],S=u?[$,M,m]:[$,m,M],T=(0,s.reshape)({inputs:{x:p},backend:r,attrs:{shape:g}}),q=(0,s.reshape)({inputs:{x:h},backend:r,attrs:{shape:S}}),y=i?T.shape[1]:T.shape[2],z=i?T.shape[2]:T.shape[1],B=u?q.shape[1]:q.shape[2],C=Math.max(x,$),F=r.data.get(T.dataId).values,N=r.data.get(q.dataId).values,_=e.util.computeStrides(T.shape),j=e.util.computeStrides(q.shape),[w,A,E]=i?[_[0],1,_[1]]:[_[0],_[1],1],[G,O,P]=u?[1,j[1],j[0]]:[j[1],1,j[0]],R=z*B,D=(0,e.buffer)([C,z,B],T.dtype),H=D.values,J=r.blockSize;for(let e=0;e<C;e++)for(let t=0;t<z;t+=J)for(let s=0;s<B;s+=J)for(let a=0;a<y;a+=J){const n=Math.min(t+J,z),r=Math.min(s+J,B),o=Math.min(a+J,y);for(let p=t;p<n;p++)for(let t=s;t<r;t++){let s=0;for(let n=a;n<o;n++){const a=Math.min(e,x-1)*w,r=Math.min(e,$-1)*P;s+=F[a+p*A+n*E]*N[n*G+t*O+r]}H[e*R+(p*B+t)]+=s}}return r.disposeIntermediateTensorInfo(T),r.disposeIntermediateTensorInfo(q),r.makeTensorInfo(I,D.dtype,D.values)}const n={kernelName:e.BatchMatMul,backendName:\"cpu\",kernelFunc:a};exports.batchMatMulConfig=n;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":142,"column":7},"generated":{"line":1,"column":0}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":142,"column":7},"generated":{"line":1,"column":13}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":142,"column":7},"generated":{"line":1,"column":20}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":142,"column":7},"generated":{"line":1,"column":35}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":142,"column":7},"generated":{"line":1,"column":43}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":142,"column":7},"generated":{"line":1,"column":56}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":142,"column":7},"generated":{"line":1,"column":57}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":142,"column":7},"generated":{"line":1,"column":64}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":142,"column":7},"generated":{"line":1,"column":68}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":142,"column":7},"generated":{"line":1,"column":76}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":142,"column":7},"generated":{"line":1,"column":88}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":142,"column":7},"generated":{"line":1,"column":90}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":142,"column":7},"generated":{"line":1,"column":98}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":142,"column":7},"generated":{"line":1,"column":121}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":123}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":127}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":129}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":137}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":162}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":164}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":172}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":187}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":189}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":197}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":25,"column":6},"generated":{"line":1,"column":210}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":25,"column":16},"generated":{"line":1,"column":219}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":25,"column":28},"generated":{"line":1,"column":221}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":30,"column":8},"generated":{"line":1,"column":224}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":30,"column":8},"generated":{"line":1,"column":230}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":30,"column":9},"generated":{"line":1,"column":237}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":30,"column":8},"generated":{"line":1,"column":239}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":30,"column":17},"generated":{"line":1,"column":247}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":30,"column":8},"generated":{"line":1,"column":249}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":30,"column":26},"generated":{"line":1,"column":255}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":30,"column":35},"generated":{"line":1,"column":258}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":31,"column":8},"generated":{"line":1,"column":261}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":31,"column":9},"generated":{"line":1,"column":263}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":31,"column":8},"generated":{"line":1,"column":265}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":31,"column":12},"generated":{"line":1,"column":267}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":31,"column":17},"generated":{"line":1,"column":270}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":32,"column":8},"generated":{"line":1,"column":273}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":32,"column":9},"generated":{"line":1,"column":284}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":32,"column":8},"generated":{"line":1,"column":286}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":32,"column":21},"generated":{"line":1,"column":297}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":32,"column":35},"generated":{"line":1,"column":300}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":34,"column":19},"generated":{"line":1,"column":303}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":34,"column":19},"generated":{"line":1,"column":305}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":34,"column":19},"generated":{"line":1,"column":307}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":34,"column":19},"generated":{"line":1,"column":325}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":34,"column":20},"generated":{"line":1,"column":326}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":34,"column":23},"generated":{"line":1,"column":328}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":34,"column":27},"generated":{"line":1,"column":331}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":36,"column":8},"generated":{"line":1,"column":341}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":36,"column":8},"generated":{"line":1,"column":347}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":36,"column":16},"generated":{"line":1,"column":349}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":36,"column":18},"generated":{"line":1,"column":351}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":36,"column":24},"generated":{"line":1,"column":357}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":37,"column":8},"generated":{"line":1,"column":364}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":37,"column":16},"generated":{"line":1,"column":366}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":37,"column":18},"generated":{"line":1,"column":368}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":37,"column":24},"generated":{"line":1,"column":374}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":1,"column":381}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":39,"column":22},"generated":{"line":1,"column":383}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":39,"column":35},"generated":{"line":1,"column":385}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":39,"column":37},"generated":{"line":1,"column":387}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":39,"column":43},"generated":{"line":1,"column":393}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":39,"column":51},"generated":{"line":1,"column":395}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":39,"column":56},"generated":{"line":1,"column":398}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":39,"column":58},"generated":{"line":1,"column":400}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":39,"column":64},"generated":{"line":1,"column":406}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":39,"column":72},"generated":{"line":1,"column":408}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":40,"column":8},"generated":{"line":1,"column":411}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":40,"column":22},"generated":{"line":1,"column":413}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":40,"column":35},"generated":{"line":1,"column":415}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":40,"column":37},"generated":{"line":1,"column":417}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":40,"column":43},"generated":{"line":1,"column":423}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":40,"column":51},"generated":{"line":1,"column":425}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":40,"column":56},"generated":{"line":1,"column":428}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":40,"column":58},"generated":{"line":1,"column":430}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":40,"column":64},"generated":{"line":1,"column":436}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":40,"column":72},"generated":{"line":1,"column":438}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":42,"column":8},"generated":{"line":1,"column":441}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":42,"column":22},"generated":{"line":1,"column":443}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":42,"column":35},"generated":{"line":1,"column":445}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":42,"column":37},"generated":{"line":1,"column":447}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":42,"column":43},"generated":{"line":1,"column":453}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":42,"column":51},"generated":{"line":1,"column":455}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":42,"column":56},"generated":{"line":1,"column":458}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":42,"column":58},"generated":{"line":1,"column":460}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":42,"column":64},"generated":{"line":1,"column":466}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":42,"column":72},"generated":{"line":1,"column":468}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":43,"column":8},"generated":{"line":1,"column":471}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":43,"column":22},"generated":{"line":1,"column":473}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":43,"column":35},"generated":{"line":1,"column":475}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":43,"column":37},"generated":{"line":1,"column":477}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":43,"column":43},"generated":{"line":1,"column":483}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":43,"column":51},"generated":{"line":1,"column":485}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":43,"column":56},"generated":{"line":1,"column":488}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":43,"column":58},"generated":{"line":1,"column":490}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":43,"column":64},"generated":{"line":1,"column":496}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":43,"column":72},"generated":{"line":1,"column":498}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":45,"column":8},"generated":{"line":1,"column":501}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":45,"column":21},"generated":{"line":1,"column":503}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":45,"column":23},"generated":{"line":1,"column":505}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":45,"column":29},"generated":{"line":1,"column":511}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":45,"column":35},"generated":{"line":1,"column":517}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":45,"column":39},"generated":{"line":1,"column":520}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":46,"column":8},"generated":{"line":1,"column":523}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":46,"column":21},"generated":{"line":1,"column":525}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":46,"column":23},"generated":{"line":1,"column":527}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":46,"column":29},"generated":{"line":1,"column":533}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":46,"column":35},"generated":{"line":1,"column":539}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":46,"column":39},"generated":{"line":1,"column":542}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":48,"column":8},"generated":{"line":1,"column":545}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":48,"column":20},"generated":{"line":1,"column":547}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":48,"column":25},"generated":{"line":1,"column":549}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":48,"column":25},"generated":{"line":1,"column":554}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":48,"column":39},"generated":{"line":1,"column":568}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":49,"column":8},"generated":{"line":1,"column":571}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":49,"column":20},"generated":{"line":1,"column":573}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":49,"column":25},"generated":{"line":1,"column":575}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":49,"column":25},"generated":{"line":1,"column":580}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":49,"column":39},"generated":{"line":1,"column":594}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":51,"column":8},"generated":{"line":1,"column":597}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":52,"column":6},"generated":{"line":1,"column":599}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":52,"column":20},"generated":{"line":1,"column":603}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":52,"column":47},"generated":{"line":1,"column":606}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":52,"column":33},"generated":{"line":1,"column":610}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":52,"column":66},"generated":{"line":1,"column":613}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":52,"column":52},"generated":{"line":1,"column":617}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":54,"column":7},"generated":{"line":1,"column":619}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":54,"column":7},"generated":{"line":1,"column":621}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":54,"column":7},"generated":{"line":1,"column":626}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":55,"column":6},"generated":{"line":1,"column":633}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":55,"column":15},"generated":{"line":1,"column":636}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":55,"column":20},"generated":{"line":1,"column":639}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":55,"column":29},"generated":{"line":1,"column":642}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":55,"column":34},"generated":{"line":1,"column":645}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":56,"column":6},"generated":{"line":1,"column":647}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":56,"column":12},"generated":{"line":1,"column":651}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":58,"column":34},"generated":{"line":1,"column":805}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":58,"column":54},"generated":{"line":1,"column":816}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":60,"column":8},"generated":{"line":1,"column":823}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":62,"column":8},"generated":{"line":1,"column":829}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":61,"column":6},"generated":{"line":1,"column":832}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":61,"column":18},"generated":{"line":1,"column":834}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":61,"column":30},"generated":{"line":1,"column":836}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":61,"column":32},"generated":{"line":1,"column":838}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":61,"column":38},"generated":{"line":1,"column":844}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":61,"column":44},"generated":{"line":1,"column":850}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":61,"column":48},"generated":{"line":1,"column":853}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":61,"column":53},"generated":{"line":1,"column":856}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":61,"column":55},"generated":{"line":1,"column":858}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":61,"column":61},"generated":{"line":1,"column":864}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":61,"column":67},"generated":{"line":1,"column":870}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":61,"column":71},"generated":{"line":1,"column":873}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":62,"column":37},"generated":{"line":1,"column":877}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":62,"column":44},"generated":{"line":1,"column":884}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":62,"column":45},"generated":{"line":1,"column":885}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":62,"column":58},"generated":{"line":1,"column":887}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":64,"column":7},"generated":{"line":1,"column":891}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":64,"column":7},"generated":{"line":1,"column":893}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":64,"column":7},"generated":{"line":1,"column":898}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":65,"column":6},"generated":{"line":1,"column":905}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":65,"column":22},"generated":{"line":1,"column":909}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":66,"column":6},"generated":{"line":1,"column":911}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":66,"column":46},"generated":{"line":1,"column":949}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":67,"column":13},"generated":{"line":1,"column":963}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":67,"column":52},"generated":{"line":1,"column":992}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":67,"column":54},"generated":{"line":1,"column":994}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":68,"column":13},"generated":{"line":1,"column":1010}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":68,"column":15},"generated":{"line":1,"column":1012}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":68,"column":39},"generated":{"line":1,"column":1036}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":69,"column":29},"generated":{"line":1,"column":1059}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":71,"column":8},"generated":{"line":1,"column":1076}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":71,"column":8},"generated":{"line":1,"column":1082}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":71,"column":19},"generated":{"line":1,"column":1084}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":71,"column":32},"generated":{"line":1,"column":1086}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":71,"column":33},"generated":{"line":1,"column":1087}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":71,"column":44},"generated":{"line":1,"column":1089}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":71,"column":57},"generated":{"line":1,"column":1091}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":72,"column":32},"generated":{"line":1,"column":1094}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":72,"column":33},"generated":{"line":1,"column":1095}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":72,"column":44},"generated":{"line":1,"column":1097}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":72,"column":57},"generated":{"line":1,"column":1099}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":73,"column":8},"generated":{"line":1,"column":1102}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":73,"column":19},"generated":{"line":1,"column":1104}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":73,"column":32},"generated":{"line":1,"column":1106}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":73,"column":33},"generated":{"line":1,"column":1107}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":73,"column":44},"generated":{"line":1,"column":1109}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":73,"column":57},"generated":{"line":1,"column":1111}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":74,"column":32},"generated":{"line":1,"column":1114}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":74,"column":33},"generated":{"line":1,"column":1115}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":74,"column":44},"generated":{"line":1,"column":1117}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":74,"column":57},"generated":{"line":1,"column":1119}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":77,"column":8},"generated":{"line":1,"column":1122}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":77,"column":14},"generated":{"line":1,"column":1125}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":77,"column":22},"generated":{"line":1,"column":1127}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":77,"column":22},"generated":{"line":1,"column":1129}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":77,"column":22},"generated":{"line":1,"column":1138}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":77,"column":23},"generated":{"line":1,"column":1139}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":77,"column":31},"generated":{"line":1,"column":1146}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":77,"column":32},"generated":{"line":1,"column":1147}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":77,"column":35},"generated":{"line":1,"column":1149}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":77,"column":39},"generated":{"line":1,"column":1152}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":77,"column":39},"generated":{"line":1,"column":1160}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":77,"column":48},"generated":{"line":1,"column":1162}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":77,"column":55},"generated":{"line":1,"column":1168}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":77,"column":56},"generated":{"line":1,"column":1169}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":77,"column":63},"generated":{"line":1,"column":1175}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":78,"column":8},"generated":{"line":1,"column":1180}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":78,"column":14},"generated":{"line":1,"column":1183}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":78,"column":22},"generated":{"line":1,"column":1185}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":78,"column":22},"generated":{"line":1,"column":1187}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":78,"column":22},"generated":{"line":1,"column":1196}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":78,"column":23},"generated":{"line":1,"column":1197}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":78,"column":31},"generated":{"line":1,"column":1204}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":78,"column":32},"generated":{"line":1,"column":1205}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":78,"column":35},"generated":{"line":1,"column":1207}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":78,"column":39},"generated":{"line":1,"column":1210}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":78,"column":39},"generated":{"line":1,"column":1218}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":78,"column":48},"generated":{"line":1,"column":1220}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":78,"column":55},"generated":{"line":1,"column":1226}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":78,"column":56},"generated":{"line":1,"column":1227}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":78,"column":63},"generated":{"line":1,"column":1233}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":80,"column":8},"generated":{"line":1,"column":1238}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":80,"column":20},"generated":{"line":1,"column":1240}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":80,"column":33},"generated":{"line":1,"column":1242}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":80,"column":37},"generated":{"line":1,"column":1244}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":80,"column":43},"generated":{"line":1,"column":1250}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":80,"column":48},"generated":{"line":1,"column":1253}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":80,"column":52},"generated":{"line":1,"column":1255}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":80,"column":58},"generated":{"line":1,"column":1261}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":81,"column":8},"generated":{"line":1,"column":1264}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":81,"column":18},"generated":{"line":1,"column":1266}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":81,"column":31},"generated":{"line":1,"column":1268}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":81,"column":35},"generated":{"line":1,"column":1270}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":81,"column":41},"generated":{"line":1,"column":1276}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":81,"column":46},"generated":{"line":1,"column":1279}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":81,"column":50},"generated":{"line":1,"column":1281}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":81,"column":56},"generated":{"line":1,"column":1287}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":82,"column":8},"generated":{"line":1,"column":1290}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":82,"column":19},"generated":{"line":1,"column":1292}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":82,"column":32},"generated":{"line":1,"column":1294}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":82,"column":36},"generated":{"line":1,"column":1296}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":82,"column":42},"generated":{"line":1,"column":1302}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":82,"column":47},"generated":{"line":1,"column":1305}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":82,"column":51},"generated":{"line":1,"column":1307}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":82,"column":57},"generated":{"line":1,"column":1313}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":83,"column":8},"generated":{"line":1,"column":1316}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":83,"column":19},"generated":{"line":1,"column":1318}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":83,"column":24},"generated":{"line":1,"column":1323}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":83,"column":28},"generated":{"line":1,"column":1327}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":83,"column":39},"generated":{"line":1,"column":1329}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":85,"column":8},"generated":{"line":1,"column":1332}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":85,"column":20},"generated":{"line":1,"column":1334}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":85,"column":28},"generated":{"line":1,"column":1336}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":85,"column":33},"generated":{"line":1,"column":1341}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":85,"column":37},"generated":{"line":1,"column":1345}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":85,"column":41},"generated":{"line":1,"column":1347}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":85,"column":49},"generated":{"line":1,"column":1355}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":86,"column":8},"generated":{"line":1,"column":1362}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":86,"column":20},"generated":{"line":1,"column":1364}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":86,"column":28},"generated":{"line":1,"column":1366}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":86,"column":33},"generated":{"line":1,"column":1371}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":86,"column":37},"generated":{"line":1,"column":1375}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":86,"column":41},"generated":{"line":1,"column":1377}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":86,"column":49},"generated":{"line":1,"column":1385}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":88,"column":8},"generated":{"line":1,"column":1392}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":88,"column":21},"generated":{"line":1,"column":1394}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":88,"column":26},"generated":{"line":1,"column":1396}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":88,"column":26},"generated":{"line":1,"column":1401}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":88,"column":41},"generated":{"line":1,"column":1416}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":88,"column":45},"generated":{"line":1,"column":1418}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":89,"column":8},"generated":{"line":1,"column":1425}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":89,"column":21},"generated":{"line":1,"column":1427}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":89,"column":26},"generated":{"line":1,"column":1429}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":89,"column":26},"generated":{"line":1,"column":1434}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":89,"column":41},"generated":{"line":1,"column":1449}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":89,"column":45},"generated":{"line":1,"column":1451}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":91,"column":9},"generated":{"line":1,"column":1459}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":91,"column":17},"generated":{"line":1,"column":1461}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":91,"column":29},"generated":{"line":1,"column":1463}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":91,"column":43},"generated":{"line":1,"column":1466}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":92,"column":6},"generated":{"line":1,"column":1468}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":92,"column":7},"generated":{"line":1,"column":1469}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":92,"column":18},"generated":{"line":1,"column":1471}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":92,"column":22},"generated":{"line":1,"column":1474}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":92,"column":25},"generated":{"line":1,"column":1476}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":92,"column":36},"generated":{"line":1,"column":1478}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":93,"column":6},"generated":{"line":1,"column":1482}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":93,"column":7},"generated":{"line":1,"column":1483}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":93,"column":18},"generated":{"line":1,"column":1485}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":93,"column":22},"generated":{"line":1,"column":1488}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":93,"column":33},"generated":{"line":1,"column":1490}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":93,"column":37},"generated":{"line":1,"column":1493}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":94,"column":9},"generated":{"line":1,"column":1497}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":94,"column":21},"generated":{"line":1,"column":1499}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":94,"column":33},"generated":{"line":1,"column":1501}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":94,"column":43},"generated":{"line":1,"column":1504}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":95,"column":6},"generated":{"line":1,"column":1506}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":95,"column":7},"generated":{"line":1,"column":1507}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":95,"column":10},"generated":{"line":1,"column":1509}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":95,"column":21},"generated":{"line":1,"column":1511}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":95,"column":25},"generated":{"line":1,"column":1514}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":95,"column":36},"generated":{"line":1,"column":1516}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":96,"column":6},"generated":{"line":1,"column":1520}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":1521}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":96,"column":18},"generated":{"line":1,"column":1523}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":96,"column":22},"generated":{"line":1,"column":1526}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":96,"column":25},"generated":{"line":1,"column":1528}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":96,"column":36},"generated":{"line":1,"column":1530}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":98,"column":8},"generated":{"line":1,"column":1534}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":98,"column":15},"generated":{"line":1,"column":1536}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":98,"column":25},"generated":{"line":1,"column":1538}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":99,"column":8},"generated":{"line":1,"column":1540}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":99,"column":17},"generated":{"line":1,"column":1543}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":99,"column":24},"generated":{"line":1,"column":1545}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":99,"column":24},"generated":{"line":1,"column":1547}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":99,"column":24},"generated":{"line":1,"column":1555}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":99,"column":25},"generated":{"line":1,"column":1556}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":99,"column":35},"generated":{"line":1,"column":1558}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":99,"column":44},"generated":{"line":1,"column":1560}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":99,"column":55},"generated":{"line":1,"column":1563}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":99,"column":59},"generated":{"line":1,"column":1565}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":101,"column":8},"generated":{"line":1,"column":1572}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":101,"column":18},"generated":{"line":1,"column":1574}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":101,"column":25},"generated":{"line":1,"column":1576}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":102,"column":8},"generated":{"line":1,"column":1583}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":102,"column":20},"generated":{"line":1,"column":1585}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":102,"column":28},"generated":{"line":1,"column":1587}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":104,"column":7},"generated":{"line":1,"column":1597}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":104,"column":7},"generated":{"line":1,"column":1601}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":104,"column":11},"generated":{"line":1,"column":1605}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":104,"column":16},"generated":{"line":1,"column":1607}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":104,"column":19},"generated":{"line":1,"column":1609}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":104,"column":24},"generated":{"line":1,"column":1611}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":104,"column":34},"generated":{"line":1,"column":1613}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":105,"column":9},"generated":{"line":1,"column":1617}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":105,"column":9},"generated":{"line":1,"column":1621}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":105,"column":13},"generated":{"line":1,"column":1625}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":105,"column":18},"generated":{"line":1,"column":1627}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":105,"column":21},"generated":{"line":1,"column":1629}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":105,"column":26},"generated":{"line":1,"column":1631}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":105,"column":35},"generated":{"line":1,"column":1633}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":105,"column":41},"generated":{"line":1,"column":1636}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":106,"column":11},"generated":{"line":1,"column":1638}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":106,"column":11},"generated":{"line":1,"column":1642}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":106,"column":15},"generated":{"line":1,"column":1646}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":106,"column":20},"generated":{"line":1,"column":1648}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":106,"column":23},"generated":{"line":1,"column":1650}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":106,"column":28},"generated":{"line":1,"column":1652}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":106,"column":38},"generated":{"line":1,"column":1654}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":106,"column":44},"generated":{"line":1,"column":1657}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":107,"column":13},"generated":{"line":1,"column":1659}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":107,"column":13},"generated":{"line":1,"column":1663}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":107,"column":17},"generated":{"line":1,"column":1667}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":107,"column":22},"generated":{"line":1,"column":1669}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":107,"column":25},"generated":{"line":1,"column":1671}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":107,"column":30},"generated":{"line":1,"column":1673}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":107,"column":41},"generated":{"line":1,"column":1675}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":107,"column":47},"generated":{"line":1,"column":1678}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":107,"column":58},"generated":{"line":1,"column":1680}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":109,"column":16},"generated":{"line":1,"column":1681}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":109,"column":16},"generated":{"line":1,"column":1687}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":109,"column":25},"generated":{"line":1,"column":1689}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":109,"column":30},"generated":{"line":1,"column":1694}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":109,"column":34},"generated":{"line":1,"column":1698}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":109,"column":39},"generated":{"line":1,"column":1700}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":109,"column":50},"generated":{"line":1,"column":1702}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":110,"column":16},"generated":{"line":1,"column":1705}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":110,"column":25},"generated":{"line":1,"column":1707}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":110,"column":30},"generated":{"line":1,"column":1712}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":110,"column":34},"generated":{"line":1,"column":1716}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":110,"column":39},"generated":{"line":1,"column":1718}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":110,"column":50},"generated":{"line":1,"column":1720}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":111,"column":16},"generated":{"line":1,"column":1723}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":111,"column":25},"generated":{"line":1,"column":1725}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":111,"column":30},"generated":{"line":1,"column":1730}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":111,"column":34},"generated":{"line":1,"column":1734}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":111,"column":39},"generated":{"line":1,"column":1736}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":111,"column":50},"generated":{"line":1,"column":1738}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":113,"column":15},"generated":{"line":1,"column":1741}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":113,"column":15},"generated":{"line":1,"column":1745}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":113,"column":19},"generated":{"line":1,"column":1749}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":113,"column":23},"generated":{"line":1,"column":1751}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":113,"column":27},"generated":{"line":1,"column":1753}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":113,"column":31},"generated":{"line":1,"column":1755}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":113,"column":39},"generated":{"line":1,"column":1757}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":114,"column":17},"generated":{"line":1,"column":1761}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":114,"column":17},"generated":{"line":1,"column":1765}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":114,"column":21},"generated":{"line":1,"column":1769}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":114,"column":25},"generated":{"line":1,"column":1771}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":114,"column":29},"generated":{"line":1,"column":1773}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":114,"column":33},"generated":{"line":1,"column":1775}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":114,"column":41},"generated":{"line":1,"column":1777}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":114,"column":46},"generated":{"line":1,"column":1781}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":115,"column":18},"generated":{"line":1,"column":1782}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":115,"column":18},"generated":{"line":1,"column":1786}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":115,"column":24},"generated":{"line":1,"column":1788}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":117,"column":19},"generated":{"line":1,"column":1790}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":117,"column":19},"generated":{"line":1,"column":1794}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":117,"column":23},"generated":{"line":1,"column":1798}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":117,"column":27},"generated":{"line":1,"column":1800}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":117,"column":31},"generated":{"line":1,"column":1802}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":117,"column":35},"generated":{"line":1,"column":1804}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":117,"column":43},"generated":{"line":1,"column":1806}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":117,"column":48},"generated":{"line":1,"column":1810}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":118,"column":22},"generated":{"line":1,"column":1811}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":118,"column":22},"generated":{"line":1,"column":1817}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":118,"column":37},"generated":{"line":1,"column":1819}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":118,"column":42},"generated":{"line":1,"column":1824}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":118,"column":46},"generated":{"line":1,"column":1828}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":118,"column":50},"generated":{"line":1,"column":1830}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":118,"column":62},"generated":{"line":1,"column":1832}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":118,"column":67},"generated":{"line":1,"column":1835}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":119,"column":22},"generated":{"line":1,"column":1837}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":119,"column":37},"generated":{"line":1,"column":1839}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":119,"column":42},"generated":{"line":1,"column":1844}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":119,"column":46},"generated":{"line":1,"column":1848}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":119,"column":50},"generated":{"line":1,"column":1850}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":119,"column":62},"generated":{"line":1,"column":1852}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":119,"column":67},"generated":{"line":1,"column":1855}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":124,"column":16},"generated":{"line":1,"column":1857}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":121,"column":20},"generated":{"line":1,"column":1860}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":121,"column":30},"generated":{"line":1,"column":1862}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":121,"column":45},"generated":{"line":1,"column":1864}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":121,"column":49},"generated":{"line":1,"column":1866}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":121,"column":62},"generated":{"line":1,"column":1868}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":121,"column":66},"generated":{"line":1,"column":1870}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":123,"column":20},"generated":{"line":1,"column":1873}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":123,"column":30},"generated":{"line":1,"column":1875}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":123,"column":34},"generated":{"line":1,"column":1877}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":123,"column":47},"generated":{"line":1,"column":1879}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":123,"column":51},"generated":{"line":1,"column":1881}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":123,"column":64},"generated":{"line":1,"column":1883}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":126,"column":14},"generated":{"line":1,"column":1886}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":126,"column":22},"generated":{"line":1,"column":1888}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":126,"column":27},"generated":{"line":1,"column":1890}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":126,"column":35},"generated":{"line":1,"column":1893}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":126,"column":39},"generated":{"line":1,"column":1895}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":126,"column":50},"generated":{"line":1,"column":1897}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":126,"column":57},"generated":{"line":1,"column":1902}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":138,"column":9},"generated":{"line":1,"column":1905}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":134,"column":2},"generated":{"line":1,"column":1912}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":134,"column":10},"generated":{"line":1,"column":1914}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":134,"column":40},"generated":{"line":1,"column":1944}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":135,"column":2},"generated":{"line":1,"column":1947}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":135,"column":10},"generated":{"line":1,"column":1949}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":135,"column":40},"generated":{"line":1,"column":1979}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":138,"column":9},"generated":{"line":1,"column":1982}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":138,"column":17},"generated":{"line":1,"column":1984}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":139,"column":6},"generated":{"line":1,"column":1999}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":139,"column":16},"generated":{"line":1,"column":2001}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":139,"column":23},"generated":{"line":1,"column":2003}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":139,"column":30},"generated":{"line":1,"column":2009}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":139,"column":37},"generated":{"line":1,"column":2011}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":142,"column":7},"generated":{"line":1,"column":2019}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":142,"column":13},"generated":{"line":1,"column":2025}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":142,"column":47},"generated":{"line":1,"column":2027}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":143,"column":2},"generated":{"line":1,"column":2028}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":143,"column":14},"generated":{"line":1,"column":2039}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":142,"column":47},"generated":{"line":1,"column":2041}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":144,"column":2},"generated":{"line":1,"column":2053}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":144,"column":15},"generated":{"line":1,"column":2065}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":145,"column":2},"generated":{"line":1,"column":2071}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":145,"column":14},"generated":{"line":1,"column":2082}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":142,"column":7},"generated":{"line":1,"column":2085}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":142,"column":7},"generated":{"line":1,"column":2093}},{"source":"../../src/kernels/BatchMatMul.ts","name":null,"original":{"line":142,"column":7},"generated":{"line":1,"column":2111}}],"sources":{"../../src/kernels/BatchMatMul.ts":"/**\n * @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an AS IS BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {BatchMatMul, BatchMatMulAttrs, BatchMatMulInputs, buffer, KernelConfig, KernelFunc, TypedArray, util} from '@tensorflow/tfjs-core';\n\nimport {MathBackendCPU} from '../backend_cpu';\nimport {assertNotComplex} from '../cpu_util';\n\nimport {reshape} from './Reshape';\n\nexport function batchMatMul(args: {\n  inputs: BatchMatMulInputs,\n  attrs: BatchMatMulAttrs,\n  backend: MathBackendCPU\n}) {\n  const {inputs, backend, attrs} = args;\n  const {a, b} = inputs;\n  const {transposeA, transposeB} = attrs;\n\n  assertNotComplex([a, b], 'matMul');\n\n  const aRank = a.shape.length;\n  const bRank = b.shape.length;\n\n  const innerShapeA = transposeA ? a.shape[aRank - 2] : a.shape[aRank - 1];\n  const innerShapeB = transposeB ? b.shape[bRank - 1] : b.shape[bRank - 2];\n\n  const outerShapeA = transposeA ? a.shape[aRank - 1] : a.shape[aRank - 2];\n  const outerShapeB = transposeB ? b.shape[bRank - 2] : b.shape[bRank - 1];\n\n  const outerDimsA = a.shape.slice(0, -2);\n  const outerDimsB = b.shape.slice(0, -2);\n\n  const batchDimA = util.sizeFromShape(outerDimsA);\n  const batchDimB = util.sizeFromShape(outerDimsB);\n\n  const batchDimsCompatible =\n      batchDimA === batchDimB || batchDimA === 1 || batchDimB === 1;\n\n  util.assert(\n      aRank >= 2 && bRank >= 2 && batchDimsCompatible,\n      () => `Error in matMul: the input batch dimensions must either be the ` +\n          `same or at least one input batch dimension must be 1. Got input ` +\n          `batch dimensions of (${outerDimsA}) and (${outerDimsB}).`);\n\n  const outShapeOuterDims =\n      batchDimA > batchDimB ? a.shape.slice(0, -2) : b.shape.slice(0, -2);\n  const outShape = outShapeOuterDims.concat([outerShapeA, outerShapeB]);\n\n  util.assert(\n      innerShapeA === innerShapeB,\n      () => `Error in matMul: inner shapes (${innerShapeA}) and (` +\n          `${innerShapeB}) of Tensors with shapes ${a.shape} and ` +\n          `${b.shape} and transposeA=${transposeA}` +\n          ` and transposeB=${transposeB} must match.`);\n\n  const a3dShape = transposeA ? [batchDimA, innerShapeA, outerShapeA] :\n                                [batchDimA, outerShapeA, innerShapeA];\n  const b3dShape = transposeB ? [batchDimB, outerShapeB, innerShapeB] :\n                                [batchDimB, innerShapeB, outerShapeB];\n\n  // The rest of the implementation is designed to operate on rank-3 tensors\n  const a3d = reshape({inputs: {x: a}, backend, attrs: {shape: a3dShape}});\n  const b3d = reshape({inputs: {x: b}, backend, attrs: {shape: b3dShape}});\n\n  const sharedDim = transposeA ? a3d.shape[1] : a3d.shape[2];\n  const leftDim = transposeA ? a3d.shape[2] : a3d.shape[1];\n  const rightDim = transposeB ? b3d.shape[1] : b3d.shape[2];\n  const batchDim = Math.max(batchDimA, batchDimB);\n\n  const a3dValues = backend.data.get(a3d.dataId).values as TypedArray;\n  const b3dValues = backend.data.get(b3d.dataId).values as TypedArray;\n\n  const a3dStrides = util.computeStrides(a3d.shape);\n  const b3dStrides = util.computeStrides(b3d.shape);\n\n  const [aBatch, aOuterStep, aInnerStep] = transposeA ?\n      [a3dStrides[0], 1, a3dStrides[1]] :\n      [a3dStrides[0], a3dStrides[1], 1];\n  const [bInnerStep, bOuterStep, bBatch] = transposeB ?\n      [1, b3dStrides[1], b3dStrides[0]] :\n      [b3dStrides[1], 1, b3dStrides[0]];\n\n  const size = leftDim * rightDim;\n  const result = buffer([batchDim, leftDim, rightDim], a3d.dtype);\n\n  const resVals = result.values as TypedArray;\n  const blockSize = backend.blockSize;\n\n  for (let bi = 0; bi < batchDim; bi++) {\n    for (let i0 = 0; i0 < leftDim; i0 += blockSize) {\n      for (let j0 = 0; j0 < rightDim; j0 += blockSize) {\n        for (let k0 = 0; k0 < sharedDim; k0 += blockSize) {\n          // for when blockSize doesn't evenly divide the input\n          const iBlock = Math.min(i0 + blockSize, leftDim);\n          const jBlock = Math.min(j0 + blockSize, rightDim);\n          const kBlock = Math.min(k0 + blockSize, sharedDim);\n\n          for (let i = i0; i < iBlock; i++) {\n            for (let j = j0; j < jBlock; j++) {\n              let sum = 0.0;\n\n              for (let k = k0; k < kBlock; k++) {\n                const batchOffsetA = Math.min(bi, batchDimA - 1) * aBatch;\n                const batchOffsetB = Math.min(bi, batchDimB - 1) * bBatch;\n                const aVal =\n                    a3dValues[batchOffsetA + i * aOuterStep + k * aInnerStep];\n                const bVal =\n                    b3dValues[k * bInnerStep + j * bOuterStep + batchOffsetB];\n                sum += aVal * bVal;\n              }\n              resVals[bi * size + (i * rightDim + j)] += sum;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  backend.disposeIntermediateTensorInfo(a3d);\n  backend.disposeIntermediateTensorInfo(b3d);\n\n  // set correct shape on output.\n  return backend.makeTensorInfo(\n      outShape, result.dtype, result.values as TypedArray);\n}\n\nexport const batchMatMulConfig: KernelConfig = {\n  kernelName: BatchMatMul,\n  backendName: 'cpu',\n  kernelFunc: batchMatMul as {} as KernelFunc,\n};\n"},"lineCount":null}},"error":null,"hash":"82aeb8dd241a7ef2c485ea83cd39eb63","cacheData":{"env":{}}}