{"id":"m0xP","dependencies":[{"name":"/Users/humengqiao/Desktop/node-project/trash-classify/package.json","includedInParent":true,"mtime":1609564004117},{"name":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/package.json","includedInParent":true,"mtime":499162500000},{"name":"./base_callbacks","loc":{"line":11,"column":29},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/callbacks.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/base_callbacks.js"},{"name":"./engine/training","loc":{"line":12,"column":28},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/callbacks.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/engine/training.js"},{"name":"./errors","loc":{"line":13,"column":36},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/callbacks.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/errors.js"},{"name":"./logs","loc":{"line":14,"column":37},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/callbacks.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/logs.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.earlyStopping=l,exports.callbacks=exports.EarlyStopping=exports.Callback=void 0;var t=require(\"./base_callbacks\"),e=require(\"./engine/training\"),o=require(\"./errors\"),i=require(\"./logs\");class s extends t.BaseCallback{constructor(){super(...arguments),this.model=null}setModel(t){if(!(t instanceof e.LayersModel))throw new Error(\"model must be a LayersModel, not some other Container\");this.model=t}}function n(t,e){return t<e}function r(t,e){return t>e}exports.Callback=s;class a extends s{constructor(t){if(super(),null==t&&(t={}),t.restoreBestWeights)throw new o.NotImplementedError(\"restoreBestWeights = True is not implemented in EarlyStopping yet.\");this.monitor=t.monitor||\"val_loss\",this.minDelta=Math.abs(t.minDelta||0),this.patience=t.patience||0,this.verbose=t.verbose||0,this.mode=t.mode||\"auto\",this.baseline=t.baseline,-1===[\"auto\",\"min\",\"max\"].indexOf(this.mode)&&(console.warn(`EarlyStopping mode '${this.mode}' is invalid. `+\"Falling back to mode 'auto'.\"),this.mode=\"auto\"),\"min\"===this.mode?this.monitorFunc=n:\"max\"===this.mode?this.monitorFunc=r:-1!==this.monitor.indexOf(\"acc\")?this.monitorFunc=r:this.monitorFunc=n,this.monitorFunc===n&&(this.minDelta*=-1)}async onTrainBegin(t){this.wait=0,this.stoppedEpoch=0,null!=this.baseline?this.best=this.baseline:this.best=this.monitorFunc===n?1/0:-1/0}async onEpochEnd(t,e){await(0,i.resolveScalarsInLogs)(e);const o=this.getMonitorValue(e);null!=o&&(this.monitorFunc(o-this.minDelta,this.best)?(this.best=o,this.wait=0):(this.wait++,this.wait>=this.patience&&(this.stoppedEpoch=t,this.model.stopTraining=!0)))}async onTrainEnd(t){this.stoppedEpoch>0&&this.verbose&&console.log(`Epoch ${this.stoppedEpoch}: early stopping.`)}getMonitorValue(t){null==t&&(t={});const e=t[this.monitor];return null==e&&console.warn(`Metric for EarlyStopping ${this.monitor} is not available. `+`Available metrics are: ${Object.keys(t)}`),e}}function l(t){return new a(t)}exports.EarlyStopping=a;const h={earlyStopping:l};exports.callbacks=h;"},"sourceMaps":null,"error":null,"hash":"934445a43d0dd95eb26f27358132451e","cacheData":{"env":{}}}