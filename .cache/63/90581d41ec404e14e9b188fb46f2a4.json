{"id":"z2Lk","dependencies":[{"name":"/Users/humengqiao/Desktop/node-project/trash-classify/package.json","includedInParent":true,"mtime":1609565653941},{"name":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-backend-webgl/package.json","includedInParent":true,"mtime":499162500000},{"name":"./packing_util","loc":{"line":17,"column":28},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-backend-webgl/dist/slice_packed_gpu.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-backend-webgl/dist/packing_util.js"},{"name":"./shader_compiler","loc":{"line":18,"column":34},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-backend-webgl/dist/slice_packed_gpu.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-backend-webgl/dist/shader_compiler.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.SlicePackedProgram=void 0;var t=require(\"./packing_util\"),n=require(\"./shader_compiler\");class r{constructor(r){this.variableNames=[\"source\"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.rank=r.length;const s=(0,n.getCoordsDataType)(this.rank),e=(0,t.getChannels)(\"coords\",this.rank),i=(0,t.getChannels)(\"sourceLoc\",this.rank),a=1===this.rank?\"sourceLoc\":`vec2(${i.slice(-2).join()})`,o=`getChannel(getSource(${i.join()}), ${a})`,h=`\\n      result.x = ${o};\\n      if (++${e[this.rank-1]} < ${r[this.rank-1]}) {\\n        ++${i[this.rank-1]};\\n        result.y = ${o};\\n        --${i[this.rank-1]};\\n      }\\n    `,c=1===this.rank?\"\":`\\n      --${e[this.rank-1]};\\n      if (++${e[this.rank-2]} < ${r[this.rank-2]}) {\\n        ++${i[this.rank-2]};\\n        result.z = ${o};\\n        if (++${e[this.rank-1]} < ${r[this.rank-1]}) {\\n          ++${i[this.rank-1]};\\n          result.w = ${o};\\n        }\\n      }\\n    `,u=this.rank<=4?`sourceLoc = coords +\\n            ${s}(${r.map((t,n)=>`start[${n}]`).join()});`:r.map((t,n)=>`${i[n]} = ${e[n]} + start[${n}];`).join(\"\\n\");this.userCode=`\\n      uniform int start[${this.rank}];\\n      void main() {\\n        ${s} coords = getOutputCoords();\\n        ${s} sourceLoc;\\n        ${u}\\n        vec4 result = vec4(0.);\\n        ${h}\\n        ${c}\\n        setOutput(result);\\n      }\\n    `}getCustomSetupFunc(t){if(t.length!==this.rank)throw Error(`The rank (${this.rank}) of the program must match the `+`length of start (${t.length})`);return(n,r)=>{null==this.startLoc&&(this.startLoc=n.getUniformLocationNoThrow(r,\"start\"),null==this.startLoc)||n.gl.uniform1iv(this.startLoc,t)}}}exports.SlicePackedProgram=r;"},"sourceMaps":null,"error":null,"hash":"e1183680dc65e3b5eeece7b73e974413","cacheData":{"env":{}}}