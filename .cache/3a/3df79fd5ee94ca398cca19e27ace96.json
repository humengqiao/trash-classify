{"id":"Zp2S","dependencies":[{"name":"/Users/humengqiao/Desktop/node-project/trash-classify/package.json","includedInParent":true,"mtime":1609565653941},{"name":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/package.json","includedInParent":true,"mtime":499162500000},{"name":"../tensor_util_env","loc":{"line":17,"column":32},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/pool.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/tensor_util_env.js"},{"name":"../util","loc":{"line":18,"column":22},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/pool.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/util.js"},{"name":"./avg_pool","loc":{"line":19,"column":24},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/pool.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/avg_pool.js"},{"name":"./batch_to_space_nd","loc":{"line":20,"column":31},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/pool.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/batch_to_space_nd.js"},{"name":"./conv_util","loc":{"line":21,"column":27},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/pool.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/conv_util.js"},{"name":"./max_pool","loc":{"line":22,"column":24},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/pool.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/max_pool.js"},{"name":"./operation","loc":{"line":23,"column":19},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/pool.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/operation.js"},{"name":"./reshape","loc":{"line":24,"column":24},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/pool.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/reshape.js"},{"name":"./space_to_batch_nd","loc":{"line":25,"column":31},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/pool.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/space_to_batch_nd.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.pool=void 0;var e=require(\"../tensor_util_env\"),t=l(require(\"../util\")),r=require(\"./avg_pool\"),o=require(\"./batch_to_space_nd\"),n=l(require(\"./conv_util\")),a=require(\"./max_pool\"),i=require(\"./operation\"),p=require(\"./reshape\"),s=require(\"./space_to_batch_nd\");function u(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function l(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=o?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n]}return r.default=e,t&&t.set(e,r),r}function c(i,u,l,c,d,m){null==d&&(d=[1,1]),null==m&&(m=1),0===c&&(c=\"valid\");const v=(0,e.convertToTensor)(i,\"x\",\"maxPool\");let _=v,b=!1;3===v.rank&&(b=!0,_=(0,p.reshape)(v,[1,v.shape[0],v.shape[1],v.shape[2]])),t.assert(n.eitherStridesOrDilationsAreOne(m,d),()=>\"Error in pool: Either strides or dilations must be 1. \"+`Got strides ${m} and dilations '${d}'`);const O=n.computePool2DInfo(_.shape,u,m,d,c),g=[O.dilationHeight,O.dilationWidth];let y;y=\"same\"===c?h([O.filterHeight,O.filterWidth],g):[[0,0],[0,0]];const P=1===g[0]&&1===g[1],[q,j]=f([O.inHeight,O.inWidth],g,y),x=P?c:\"valid\",D=P?_:(0,s.spaceToBatchND)(_,g,q),M=(\"avg\"===l?()=>(0,r.avgPool)(D,u,m,x):()=>(0,a.maxPool)(D,u,m,x))(),W=P?M:(0,o.batchToSpaceND)(M,g,j);return b?(0,p.reshape)(W,[W.shape[1],W.shape[2],W.shape[3]]):W}function f(e,t,r){const o=r.map(e=>e[0]),n=r.map(e=>e[1]),a=e.concat(o,n),i=t.map((e,t)=>(e-a[t]%e)%e),p=n.map((e,t)=>e+i[t]);return[t.map((e,t)=>[o[t],p[t]]),t.map((e,t)=>[0,i[t]])]}function h(e,t){const r=e.map((e,r)=>e+(e-1)*(t[r]-1)).map(e=>e-1),o=r.map(e=>Math.floor(e/2)),n=r.map((e,t)=>e-o[t]);return r.map((e,t)=>[o[t],n[t]])}const d=(0,i.op)({pool_:c});exports.pool=d;"},"sourceMaps":null,"error":null,"hash":"4b3803a8a2080355760ce537e70a5f38","cacheData":{"env":{}}}