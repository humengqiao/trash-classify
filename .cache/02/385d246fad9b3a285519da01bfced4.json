{"id":"e8Po","dependencies":[{"name":"/Users/humengqiao/Desktop/node-project/trash-classify/package.json","includedInParent":true,"mtime":1609564004117},{"name":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/package.json","includedInParent":true,"mtime":499162500000},{"name":"../../engine","loc":{"line":17,"column":23},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/fused/depthwise_conv2d.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/engine.js"},{"name":"../../gradients","loc":{"line":18,"column":27},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/fused/depthwise_conv2d.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/gradients.js"},{"name":"../../kernel_names","loc":{"line":19,"column":37},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/fused/depthwise_conv2d.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/kernel_names.js"},{"name":"../../tensor_util","loc":{"line":20,"column":31},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/fused/depthwise_conv2d.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/tensor_util.js"},{"name":"../../tensor_util_env","loc":{"line":21,"column":32},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/fused/depthwise_conv2d.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/tensor_util_env.js"},{"name":"../../util","loc":{"line":22,"column":22},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/fused/depthwise_conv2d.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/util.js"},{"name":"../add","loc":{"line":23,"column":20},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/fused/depthwise_conv2d.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/add.js"},{"name":"../broadcast_util","loc":{"line":24,"column":32},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/fused/depthwise_conv2d.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/broadcast_util.js"},{"name":"../conv_util","loc":{"line":25,"column":27},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/fused/depthwise_conv2d.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/conv_util.js"},{"name":"../depthwise_conv2d","loc":{"line":26,"column":58},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/fused/depthwise_conv2d.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/depthwise_conv2d.js"},{"name":"../depthwise_conv2d_native_backprop_filter","loc":{"line":27,"column":52},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/fused/depthwise_conv2d.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/depthwise_conv2d_native_backprop_filter.js"},{"name":"../depthwise_conv2d_native_backprop_input","loc":{"line":28,"column":51},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/fused/depthwise_conv2d.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/depthwise_conv2d_native_backprop_input.js"},{"name":"../fused_util","loc":{"line":29,"column":88},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/fused/depthwise_conv2d.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/fused_util.js"},{"name":"../operation","loc":{"line":30,"column":19},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/fused/depthwise_conv2d.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/operation.js"},{"name":"../reshape","loc":{"line":31,"column":24},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/fused/depthwise_conv2d.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/ops/reshape.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.depthwiseConv2d=void 0;var e=require(\"../../engine\"),t=require(\"../../gradients\"),r=require(\"../../kernel_names\"),n=require(\"../../tensor_util\"),i=require(\"../../tensor_util_env\"),s=w(require(\"../../util\")),a=require(\"../add\"),o=w(require(\"../broadcast_util\")),u=w(require(\"../conv_util\")),d=require(\"../depthwise_conv2d\"),p=require(\"../depthwise_conv2d_native_backprop_filter\"),l=require(\"../depthwise_conv2d_native_backprop_input\"),h=require(\"../fused_util\"),c=require(\"../operation\"),v=require(\"../reshape\");function f(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function w(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}function g({x:c,filter:f,strides:w,pad:g,dataFormat:b=\"NHWC\",dilations:C=[1,1],dimRoundingMode:_,bias:m,activation:k=\"linear\",preluActivationWeights:q}){if(!1===(0,h.shouldFuse)(e.ENGINE.state.gradientDepth,k)){let e=(0,d.depthwiseConv2d)(c,f,w,g,b,C,_);return null!=m&&(e=(0,a.add)(e,m)),(0,h.applyActivation)(e,k,q)}const y=(0,i.convertToTensor)(c,\"x\",\"depthwiseConv2d\"),D=(0,i.convertToTensor)(f,\"filter\",\"depthwiseConv2d\");let E=y,F=!1;3===y.rank&&(F=!0,E=(0,v.reshape)(y,[1,y.shape[0],y.shape[1],y.shape[2]])),s.assert(4===E.rank,()=>\"Error in fused depthwiseConv2d: input must be rank 4, but got \"+`rank ${E.rank}.`),s.assert(4===D.rank,()=>\"Error in fused depthwiseConv2d: filter must be rank 4, \"+`but got rank ${D.rank}.`),s.assert(E.shape[3]===D.shape[2],()=>\"Error in fused depthwiseConv2d: number of input channels \"+`(${E.shape[3]}) must match the inChannels dimension in `+`filter ${D.shape[2]}.`),null==C&&(C=[1,1]),s.assert(u.eitherStridesOrDilationsAreOne(w,C),()=>\"Error in fused depthwiseConv2d: Either strides or dilations must \"+`be 1. Got strides ${w} and dilations '${C}'`),null!=_&&s.assert(s.isInt(g),()=>\"Error in fused depthwiseConv2d: pad must be an integer when \"+`using dimRoundingMode ${_} but got pad ${g}.`);const O=u.computeConv2DInfo(E.shape,D.shape,w,C,g,_,!0);let G,N;null!=m&&(G=(0,i.convertToTensor)(m,\"bias\",\"fused conv2d\"),[G]=(0,n.makeTypesMatch)(G,y),o.assertAndGetBroadcastShape(O.outShape,G.shape)),null!=q&&(N=(0,i.convertToTensor)(q,\"prelu weights\",\"fused depthwiseConv2d\"));const T=(e,t)=>{s.assert(u.tupleValuesAreOne(C),()=>\"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations \"+`'${C}'`);const[r,n,i,a]=t,o=(0,h.getFusedDyActivation)(e,i,k),d=(0,l.depthwiseConv2dNativeBackpropInput)(n.shape,o,r,w,g,C,_),c=(0,p.depthwiseConv2dNativeBackpropFilter)(n,o,r.shape,w,g,C,_);if(null!=a){return[d,c,(0,h.getFusedBiasGradient)(G,o)]}return[d,c]},$=e=>{return e.fusedDepthwiseConv2D({input:E,filter:D,convInfo:O,bias:G,activation:k,preluActivationWeights:N})},A={x:E,filter:D,bias:G,preluActivationWeights:N},M={strides:w,pad:g,dataFormat:b,dilations:C,dimRoundingMode:_,activation:k};if(null==m){return(0,t.customGrad)((t,n,i)=>{let s=e.ENGINE.runKernelFunc($,A,null,r.FusedDepthwiseConv2D,M);return i([n,t,s]),F&&(s=(0,v.reshape)(s,[s.shape[1],s.shape[2],s.shape[3]])),{value:s,gradFunc:T}})(E,D)}return(0,t.customGrad)((t,n,i,s)=>{let a=e.ENGINE.runKernelFunc($,A,null,r.FusedDepthwiseConv2D,M);return s([n,t,a,i]),F&&(a=(0,v.reshape)(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:T}})(E,D,G)}const b=(0,c.op)({fusedDepthwiseConv2d_:g});exports.depthwiseConv2d=b;"},"sourceMaps":null,"error":null,"hash":"67d82a82e89bddc09b3c9540ccbf7491","cacheData":{"env":{}}}