{"id":"FpFQ","dependencies":[{"name":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-backend-cpu/dist/kernels/RotateWithOffset.js.map","includedInParent":true,"mtime":499162500000},{"name":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-backend-cpu/src/kernels/RotateWithOffset.ts","includedInParent":true,"mtime":499162500000},{"name":"/Users/humengqiao/Desktop/node-project/trash-classify/package.json","includedInParent":true,"mtime":1609563562293},{"name":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-backend-cpu/package.json","includedInParent":true,"mtime":499162500000},{"name":"@tensorflow/tfjs-core","loc":{"line":17,"column":53},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-backend-cpu/dist/kernels/RotateWithOffset.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.rotateWithOffsetConfig=void 0;var e=require(\"@tensorflow/tfjs-core\");const t={kernelName:e.RotateWithOffset,backendName:\"cpu\",kernelFunc:({inputs:t,attrs:a,backend:r})=>{const{image:o}=t,{radians:s,fillValue:n,center:i}=a,d=r,p=e.util.getTypedArrayFromDType(o.dtype,e.util.sizeFromShape(o.shape)),[f,l,c,u]=o.shape,[h,y]=e.backend_util.getImageCenter(i,l,c),g=Math.sin(s),m=Math.cos(s),b=d.data.get(o.dataId).values;for(let e=0;e<f;e++){const t=e*c*l*u;for(let e=0;e<l;e++){const a=e*(c*u);for(let r=0;r<c;r++){const o=r*u;for(let s=0;s<u;s++){const i=[f,e,r,s],d=i[2],k=i[1];let M=(d-h)*m-(k-y)*g,v=(d-h)*g+(k-y)*m;M=Math.round(M+h),v=Math.round(v+y);let O=n;if(\"number\"!=typeof n&&(O=3===s?255:n[s]),M>=0&&M<c&&v>=0&&v<l){O=b[t+v*(c*u)+M*u+s]}p[t+a+o+s]=O}}}}return{dataId:d.write(p,o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}};exports.rotateWithOffsetConfig=t;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":23,"column":7},"generated":{"line":1,"column":0}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":23,"column":7},"generated":{"line":1,"column":13}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":23,"column":7},"generated":{"line":1,"column":20}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":23,"column":7},"generated":{"line":1,"column":35}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":23,"column":7},"generated":{"line":1,"column":43}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":23,"column":7},"generated":{"line":1,"column":56}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":23,"column":7},"generated":{"line":1,"column":57}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":23,"column":7},"generated":{"line":1,"column":64}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":23,"column":7},"generated":{"line":1,"column":68}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":23,"column":7},"generated":{"line":1,"column":76}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":23,"column":7},"generated":{"line":1,"column":104}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":106}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":110}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":112}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":120}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":23,"column":7},"generated":{"line":1,"column":145}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":23,"column":13},"generated":{"line":1,"column":151}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":23,"column":52},"generated":{"line":1,"column":153}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":154}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":24,"column":14},"generated":{"line":1,"column":165}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":23,"column":52},"generated":{"line":1,"column":167}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":25,"column":2},"generated":{"line":1,"column":184}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":25,"column":15},"generated":{"line":1,"column":196}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":1,"column":202}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":26,"column":14},"generated":{"line":1,"column":213}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":26,"column":16},"generated":{"line":1,"column":215}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":26,"column":16},"generated":{"line":1,"column":222}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":26,"column":24},"generated":{"line":1,"column":224}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":26,"column":24},"generated":{"line":1,"column":230}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":26,"column":31},"generated":{"line":1,"column":232}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":26,"column":31},"generated":{"line":1,"column":240}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":27,"column":10},"generated":{"line":1,"column":246}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":27,"column":10},"generated":{"line":1,"column":252}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":27,"column":11},"generated":{"line":1,"column":258}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":27,"column":20},"generated":{"line":1,"column":261}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":28,"column":10},"generated":{"line":1,"column":264}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":28,"column":11},"generated":{"line":1,"column":272}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":28,"column":10},"generated":{"line":1,"column":274}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":28,"column":20},"generated":{"line":1,"column":284}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":28,"column":10},"generated":{"line":1,"column":286}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":28,"column":31},"generated":{"line":1,"column":293}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":28,"column":41},"generated":{"line":1,"column":296}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":29,"column":10},"generated":{"line":1,"column":298}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":29,"column":23},"generated":{"line":1,"column":300}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":31,"column":10},"generated":{"line":1,"column":302}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":31,"column":19},"generated":{"line":1,"column":304}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":31,"column":24},"generated":{"line":1,"column":306}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":31,"column":24},"generated":{"line":1,"column":311}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":32,"column":8},"generated":{"line":1,"column":334}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":32,"column":14},"generated":{"line":1,"column":336}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":32,"column":40},"generated":{"line":1,"column":342}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":32,"column":45},"generated":{"line":1,"column":344}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":32,"column":45},"generated":{"line":1,"column":349}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":32,"column":59},"generated":{"line":1,"column":363}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":32,"column":65},"generated":{"line":1,"column":365}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":33,"column":11},"generated":{"line":1,"column":374}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":33,"column":18},"generated":{"line":1,"column":376}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":33,"column":31},"generated":{"line":1,"column":378}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":33,"column":43},"generated":{"line":1,"column":380}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":33,"column":58},"generated":{"line":1,"column":383}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":33,"column":64},"generated":{"line":1,"column":385}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":35,"column":11},"generated":{"line":1,"column":392}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":35,"column":20},"generated":{"line":1,"column":394}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":36,"column":8},"generated":{"line":1,"column":397}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":36,"column":21},"generated":{"line":1,"column":399}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":36,"column":21},"generated":{"line":1,"column":412}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":36,"column":36},"generated":{"line":1,"column":427}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":36,"column":44},"generated":{"line":1,"column":429}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":36,"column":57},"generated":{"line":1,"column":431}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":39,"column":10},"generated":{"line":1,"column":434}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":39,"column":22},"generated":{"line":1,"column":436}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":39,"column":27},"generated":{"line":1,"column":441}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":39,"column":31},"generated":{"line":1,"column":445}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":40,"column":10},"generated":{"line":1,"column":448}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":40,"column":22},"generated":{"line":1,"column":450}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":40,"column":27},"generated":{"line":1,"column":455}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":40,"column":31},"generated":{"line":1,"column":459}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":41,"column":10},"generated":{"line":1,"column":462}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":41,"column":22},"generated":{"line":1,"column":464}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":41,"column":33},"generated":{"line":1,"column":466}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":41,"column":38},"generated":{"line":1,"column":471}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":41,"column":42},"generated":{"line":1,"column":475}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":41,"column":48},"generated":{"line":1,"column":477}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":41,"column":56},"generated":{"line":1,"column":485}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":43,"column":9},"generated":{"line":1,"column":492}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":43,"column":9},"generated":{"line":1,"column":496}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":43,"column":13},"generated":{"line":1,"column":500}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":43,"column":24},"generated":{"line":1,"column":502}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":43,"column":27},"generated":{"line":1,"column":504}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":43,"column":38},"generated":{"line":1,"column":506}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":508}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":43,"column":57},"generated":{"line":1,"column":512}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":44,"column":12},"generated":{"line":1,"column":513}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":44,"column":12},"generated":{"line":1,"column":519}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":44,"column":26},"generated":{"line":1,"column":521}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":44,"column":37},"generated":{"line":1,"column":523}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":44,"column":50},"generated":{"line":1,"column":525}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":44,"column":64},"generated":{"line":1,"column":527}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":46,"column":11},"generated":{"line":1,"column":529}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":46,"column":11},"generated":{"line":1,"column":533}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":46,"column":15},"generated":{"line":1,"column":537}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":46,"column":21},"generated":{"line":1,"column":539}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":46,"column":24},"generated":{"line":1,"column":541}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":46,"column":30},"generated":{"line":1,"column":543}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":46,"column":43},"generated":{"line":1,"column":545}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":46,"column":50},"generated":{"line":1,"column":549}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":47,"column":14},"generated":{"line":1,"column":550}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":47,"column":14},"generated":{"line":1,"column":556}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":47,"column":26},"generated":{"line":1,"column":558}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":47,"column":33},"generated":{"line":1,"column":561}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":47,"column":46},"generated":{"line":1,"column":563}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":49,"column":13},"generated":{"line":1,"column":566}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":49,"column":13},"generated":{"line":1,"column":570}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":49,"column":17},"generated":{"line":1,"column":574}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":49,"column":23},"generated":{"line":1,"column":576}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":49,"column":26},"generated":{"line":1,"column":578}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":49,"column":32},"generated":{"line":1,"column":580}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":49,"column":44},"generated":{"line":1,"column":582}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":49,"column":51},"generated":{"line":1,"column":586}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":50,"column":16},"generated":{"line":1,"column":587}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":50,"column":16},"generated":{"line":1,"column":593}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":50,"column":28},"generated":{"line":1,"column":595}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":50,"column":34},"generated":{"line":1,"column":597}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":52,"column":15},"generated":{"line":1,"column":599}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":52,"column":15},"generated":{"line":1,"column":603}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":52,"column":19},"generated":{"line":1,"column":607}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":52,"column":29},"generated":{"line":1,"column":609}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":52,"column":32},"generated":{"line":1,"column":611}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":52,"column":42},"generated":{"line":1,"column":613}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":52,"column":55},"generated":{"line":1,"column":615}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":52,"column":66},"generated":{"line":1,"column":619}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":53,"column":18},"generated":{"line":1,"column":620}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":53,"column":18},"generated":{"line":1,"column":626}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":53,"column":27},"generated":{"line":1,"column":628}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":53,"column":28},"generated":{"line":1,"column":629}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":53,"column":35},"generated":{"line":1,"column":631}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":53,"column":40},"generated":{"line":1,"column":633}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":53,"column":45},"generated":{"line":1,"column":635}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":55,"column":18},"generated":{"line":1,"column":638}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":55,"column":22},"generated":{"line":1,"column":640}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":55,"column":29},"generated":{"line":1,"column":642}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":56,"column":18},"generated":{"line":1,"column":645}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":56,"column":22},"generated":{"line":1,"column":647}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":56,"column":29},"generated":{"line":1,"column":649}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":59,"column":16},"generated":{"line":1,"column":652}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":59,"column":16},"generated":{"line":1,"column":656}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":59,"column":26},"generated":{"line":1,"column":659}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":59,"column":30},"generated":{"line":1,"column":661}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":59,"column":41},"generated":{"line":1,"column":664}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":59,"column":54},"generated":{"line":1,"column":667}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":59,"column":58},"generated":{"line":1,"column":669}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":59,"column":69},"generated":{"line":1,"column":672}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":60,"column":16},"generated":{"line":1,"column":674}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":60,"column":26},"generated":{"line":1,"column":677}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":60,"column":30},"generated":{"line":1,"column":679}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":60,"column":41},"generated":{"line":1,"column":682}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":60,"column":54},"generated":{"line":1,"column":685}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":60,"column":58},"generated":{"line":1,"column":687}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":60,"column":69},"generated":{"line":1,"column":690}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":61,"column":12},"generated":{"line":1,"column":692}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":61,"column":21},"generated":{"line":1,"column":694}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":61,"column":26},"generated":{"line":1,"column":699}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":61,"column":32},"generated":{"line":1,"column":705}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":61,"column":41},"generated":{"line":1,"column":707}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":62,"column":12},"generated":{"line":1,"column":710}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":62,"column":21},"generated":{"line":1,"column":712}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":62,"column":26},"generated":{"line":1,"column":717}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":62,"column":32},"generated":{"line":1,"column":723}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":62,"column":41},"generated":{"line":1,"column":725}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":64,"column":16},"generated":{"line":1,"column":728}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":64,"column":16},"generated":{"line":1,"column":732}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":64,"column":30},"generated":{"line":1,"column":734}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":74,"column":16},"generated":{"line":1,"column":736}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":65,"column":37},"generated":{"line":1,"column":739}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":65,"column":23},"generated":{"line":1,"column":756}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":67,"column":16},"generated":{"line":1,"column":760}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":66,"column":30},"generated":{"line":1,"column":762}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":66,"column":18},"generated":{"line":1,"column":766}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":37,"column":29},"generated":{"line":1,"column":768}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":69,"column":30},"generated":{"line":1,"column":772}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":69,"column":40},"generated":{"line":1,"column":774}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":74,"column":16},"generated":{"line":1,"column":778}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":74,"column":26},"generated":{"line":1,"column":781}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":74,"column":31},"generated":{"line":1,"column":784}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":74,"column":40},"generated":{"line":1,"column":786}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":74,"column":54},"generated":{"line":1,"column":789}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":74,"column":64},"generated":{"line":1,"column":792}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":75,"column":16},"generated":{"line":1,"column":795}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":75,"column":25},"generated":{"line":1,"column":797}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":75,"column":38},"generated":{"line":1,"column":799}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":81,"column":14},"generated":{"line":1,"column":800}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":81,"column":28},"generated":{"line":1,"column":802}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":80,"column":18},"generated":{"line":1,"column":804}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":77,"column":39},"generated":{"line":1,"column":806}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":77,"column":49},"generated":{"line":1,"column":809}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":77,"column":62},"generated":{"line":1,"column":811}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":78,"column":39},"generated":{"line":1,"column":814}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":78,"column":48},"generated":{"line":1,"column":816}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":80,"column":70},"generated":{"line":1,"column":818}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":85,"column":12},"generated":{"line":1,"column":821}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":84,"column":27},"generated":{"line":1,"column":823}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":84,"column":41},"generated":{"line":1,"column":825}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":84,"column":53},"generated":{"line":1,"column":827}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":84,"column":65},"generated":{"line":1,"column":829}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":85,"column":29},"generated":{"line":1,"column":832}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":92,"column":11},"generated":{"line":1,"column":837}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":92,"column":11},"generated":{"line":1,"column":843}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":92,"column":12},"generated":{"line":1,"column":844}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":91,"column":19},"generated":{"line":1,"column":851}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":91,"column":30},"generated":{"line":1,"column":853}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":91,"column":36},"generated":{"line":1,"column":859}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":91,"column":44},"generated":{"line":1,"column":861}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":91,"column":50},"generated":{"line":1,"column":863}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":91,"column":57},"generated":{"line":1,"column":869}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":91,"column":63},"generated":{"line":1,"column":871}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":92,"column":20},"generated":{"line":1,"column":878}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":92,"column":27},"generated":{"line":1,"column":884}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":92,"column":33},"generated":{"line":1,"column":886}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":92,"column":40},"generated":{"line":1,"column":892}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":92,"column":47},"generated":{"line":1,"column":898}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":92,"column":53},"generated":{"line":1,"column":900}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":23,"column":7},"generated":{"line":1,"column":909}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":23,"column":7},"generated":{"line":1,"column":917}},{"source":"../../src/kernels/RotateWithOffset.ts","name":null,"original":{"line":23,"column":7},"generated":{"line":1,"column":940}}],"sources":{"../../src/kernels/RotateWithOffset.ts":"/**\n * @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {KernelConfig, NumericDataType, TypedArray} from '@tensorflow/tfjs-core';\nimport {backend_util, RotateWithOffset, RotateWithOffsetAttrs, RotateWithOffsetInputs, util} from '@tensorflow/tfjs-core';\n\nimport {MathBackendCPU} from '../backend_cpu';\n\nexport const rotateWithOffsetConfig: KernelConfig = {\n  kernelName: RotateWithOffset,\n  backendName: 'cpu',\n  kernelFunc: ({inputs, attrs, backend}) => {\n    const {image} = inputs as RotateWithOffsetInputs;\n    const {radians, fillValue, center} = attrs as {} as RotateWithOffsetAttrs;\n    const cpuBackend = backend as MathBackendCPU;\n\n    const output = util.getTypedArrayFromDType(\n        image.dtype as NumericDataType, util.sizeFromShape(image.shape));\n    const [batch, imageHeight, imageWidth, numChannels] = image.shape;\n\n    const [centerX, centerY] =\n        backend_util.getImageCenter(center, imageHeight, imageWidth);\n    const fullOpacityValue = 255;\n\n    const sinFactor = Math.sin(radians);\n    const cosFactor = Math.cos(radians);\n    const imageVals = cpuBackend.data.get(image.dataId).values as TypedArray;\n\n    for (let batchIdx = 0; batchIdx < batch; batchIdx++) {\n      const batchOffset = batchIdx * imageWidth * imageHeight * numChannels;\n\n      for (let row = 0; row < imageHeight; row++) {\n        const rowOffset = row * (imageWidth * numChannels);\n\n        for (let col = 0; col < imageWidth; col++) {\n          const colOffset = col * numChannels;\n\n          for (let channel = 0; channel < numChannels; channel++) {\n            const coords = [batch, row, col, channel];\n\n            const x = coords[2];\n            const y = coords[1];\n\n            // coordX/coordY are the result of rotating and translating x/y.\n            let coordX = (x - centerX) * cosFactor - (y - centerY) * sinFactor;\n            let coordY = (x - centerX) * sinFactor + (y - centerY) * cosFactor;\n            coordX = Math.round(coordX + centerX);\n            coordY = Math.round(coordY + centerY);\n\n            let outputValue = fillValue;\n            if (typeof fillValue !== 'number') {\n              if (channel === 3) {\n                outputValue = fullOpacityValue;\n              } else {\n                outputValue = fillValue[channel];\n              }\n            }\n\n            // If the coordinate position falls within the image boundaries...\n            if (coordX >= 0 && coordX < imageWidth && coordY >= 0 &&\n                coordY < imageHeight) {\n              // set the output to the image value at the coordinate position.\n              const rotatedRowOffset = coordY * (imageWidth * numChannels);\n              const rotatedColOffset = coordX * numChannels;\n              const imageIdx =\n                  batchOffset + rotatedRowOffset + rotatedColOffset + channel;\n              outputValue = imageVals[imageIdx];\n            }\n\n            const outIdx = batchOffset + rowOffset + colOffset + channel;\n            output[outIdx] = outputValue as number;\n          }\n        }\n      }\n    }\n\n    const dataId = cpuBackend.write(output, image.shape, image.dtype);\n    return {dataId, shape: image.shape, dtype: image.dtype};\n  }\n};\n"},"lineCount":null}},"error":null,"hash":"bc2c001dbef5ac839bd5aaddd52dbad4","cacheData":{"env":{}}}