{"id":"J0qa","dependencies":[{"name":"/Users/humengqiao/Desktop/node-project/trash-classify/package.json","includedInParent":true,"mtime":1609563696417},{"name":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/package.json","includedInParent":true,"mtime":499162500000},{"name":"@tensorflow/tfjs-core","loc":{"line":14,"column":36},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/layers/pooling.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-core/dist/index.js"},{"name":"../backend/common","loc":{"line":15,"column":32},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/layers/pooling.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/backend/common.js"},{"name":"../backend/tfjs_backend","loc":{"line":16,"column":19},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/layers/pooling.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/backend/tfjs_backend.js"},{"name":"../common","loc":{"line":17,"column":65},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/layers/pooling.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/common.js"},{"name":"../engine/topology","loc":{"line":19,"column":22},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/layers/pooling.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/engine/topology.js"},{"name":"../errors","loc":{"line":20,"column":48},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/layers/pooling.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/errors.js"},{"name":"../utils/conv_utils","loc":{"line":21,"column":33},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/layers/pooling.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/utils/conv_utils.js"},{"name":"../utils/generic_utils","loc":{"line":22,"column":38},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/layers/pooling.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/utils/generic_utils.js"},{"name":"../utils/types_utils","loc":{"line":23,"column":56},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/layers/pooling.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/utils/types_utils.js"},{"name":"./convolutional","loc":{"line":24,"column":61},"parent":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/layers/pooling.js","resolved":"/Users/humengqiao/Desktop/node-project/trash-classify/node_modules/@tensorflow/tfjs-layers/dist/layers/convolutional.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.pool2d=u,exports.pool3d=g,exports.GlobalMaxPooling2D=exports.GlobalAveragePooling2D=exports.GlobalPooling2D=exports.GlobalMaxPooling1D=exports.GlobalAveragePooling1D=exports.GlobalPooling1D=exports.AveragePooling3D=exports.MaxPooling3D=exports.Pooling3D=exports.AveragePooling2D=exports.MaxPooling2D=exports.Pooling2D=exports.AveragePooling1D=exports.MaxPooling1D=exports.Pooling1D=void 0;var e=c(require(\"@tensorflow/tfjs-core\")),t=require(\"../backend/common\"),s=c(require(\"../backend/tfjs_backend\")),o=require(\"../common\"),i=require(\"../engine/topology\"),r=require(\"../errors\"),a=require(\"../utils/conv_utils\"),n=require(\"../utils/generic_utils\"),l=require(\"../utils/types_utils\"),d=require(\"./convolutional\");function p(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function c(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var s={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(s,i,r):s[i]=e[i]}return s.default=e,t&&t.set(e,s),s}function u(s,i,r,a,n,l){return(0,e.tidy)(()=>{let p;(0,o.checkDataFormat)(n),(0,o.checkPoolMode)(l),(0,o.checkPaddingMode)(a),null==r&&(r=[1,1]),null==a&&(a=\"valid\"),null==n&&(n=(0,t.imageDataFormat)()),null==l&&(l=\"max\"),s=(0,d.preprocessConv2DInput)(s,n);const c=\"same\"===a?\"same\":\"valid\";return p=\"max\"===l?e.maxPool(s,i,r,c):e.avgPool(s,i,r,c),\"channelsFirst\"===n&&(p=e.transpose(p,[0,3,1,2])),p})}function g(s,i,r,a,n,l){return(0,e.tidy)(()=>{let p;(0,o.checkDataFormat)(n),(0,o.checkPoolMode)(l),(0,o.checkPaddingMode)(a),null==r&&(r=[1,1,1]),null==a&&(a=\"valid\"),null==n&&(n=(0,t.imageDataFormat)()),null==l&&(l=\"max\"),s=(0,d.preprocessConv3DInput)(s,n);const c=\"same\"===a?\"same\":\"valid\";return p=\"max\"===l?e.maxPool3d(s,i,r,c):e.avgPool3d(s,i,r,c),\"channelsFirst\"===n&&(p=e.transpose(p,[0,4,1,2,3])),p})}class h extends i.Layer{constructor(e){if(null==e.poolSize&&(e.poolSize=2),super(e),\"number\"==typeof e.poolSize)this.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||\"number\"!=typeof e.poolSize[0])throw new r.ValueError(\"poolSize for 1D convolutional layer must be a number or an Array of a single number, but received \"+`${JSON.stringify(e.poolSize)}`);this.poolSize=e.poolSize}if((0,n.assertPositiveInteger)(this.poolSize,\"poolSize\"),null==e.strides)this.strides=this.poolSize;else if(\"number\"==typeof e.strides)this.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||\"number\"!=typeof e.strides[0])throw new r.ValueError(\"strides for 1D convolutional layer must be a number or an Array of a single number, but received \"+`${JSON.stringify(e.strides)}`);this.strides=e.strides}(0,n.assertPositiveInteger)(this.strides,\"strides\"),this.padding=null==e.padding?\"valid\":e.padding,(0,o.checkPaddingMode)(this.padding),this.inputSpec=[new i.InputSpec({ndim:3})]}computeOutputShape(e){e=(0,l.getExactlyOneShape)(e);const t=(0,a.convOutputLength)(e[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]}call(t,o){return(0,e.tidy)(()=>{this.invokeCallHook(t,o),t=s.expandDims((0,l.getExactlyOneTensor)(t),2);const i=this.poolingFunction((0,l.getExactlyOneTensor)(t),[this.poolSize[0],1],[this.strides[0],1],this.padding,\"channelsLast\");return e.squeeze(i,[2])})}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},t=super.getConfig();return Object.assign(e,t),e}}exports.Pooling1D=h;class m extends h{constructor(e){super(e)}poolingFunction(e,t,s,i,r){return(0,o.checkDataFormat)(r),(0,o.checkPaddingMode)(i),u(e,t,s,i,r,\"max\")}}exports.MaxPooling1D=m,m.className=\"MaxPooling1D\",e.serialization.registerClass(m);class x extends h{constructor(e){super(e)}poolingFunction(e,t,s,i,r){return(0,o.checkDataFormat)(r),(0,o.checkPaddingMode)(i),u(e,t,s,i,r,\"avg\")}}exports.AveragePooling1D=x,x.className=\"AveragePooling1D\",e.serialization.registerClass(x);class S extends i.Layer{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new r.ValueError(\"If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length \"+`${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides];(0,n.assertPositiveInteger)(this.poolSize,\"poolSize\"),(0,n.assertPositiveInteger)(this.strides,\"strides\"),this.padding=null==e.padding?\"valid\":e.padding,this.dataFormat=null==e.dataFormat?\"channelsLast\":e.dataFormat,(0,o.checkDataFormat)(this.dataFormat),(0,o.checkPaddingMode)(this.padding),this.inputSpec=[new i.InputSpec({ndim:4})]}computeOutputShape(e){e=(0,l.getExactlyOneShape)(e);let t=\"channelsFirst\"===this.dataFormat?e[2]:e[1],s=\"channelsFirst\"===this.dataFormat?e[3]:e[2];return t=(0,a.convOutputLength)(t,this.poolSize[0],this.padding,this.strides[0]),s=(0,a.convOutputLength)(s,this.poolSize[1],this.padding,this.strides[1]),\"channelsFirst\"===this.dataFormat?[e[0],e[1],t,s]:[e[0],t,s,e[3]]}call(t,s){return(0,e.tidy)(()=>(this.invokeCallHook(t,s),this.poolingFunction((0,l.getExactlyOneTensor)(t),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}exports.Pooling2D=S;class P extends S{constructor(e){super(e)}poolingFunction(e,t,s,i,r){return(0,o.checkDataFormat)(r),(0,o.checkPaddingMode)(i),u(e,t,s,i,r,\"max\")}}exports.MaxPooling2D=P,P.className=\"MaxPooling2D\",e.serialization.registerClass(P);class y extends S{constructor(e){super(e)}poolingFunction(e,t,s,i,r){return(0,o.checkDataFormat)(r),(0,o.checkPaddingMode)(i),u(e,t,s,i,r,\"avg\")}}exports.AveragePooling2D=y,y.className=\"AveragePooling2D\",e.serialization.registerClass(y);class v extends i.Layer{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(3!==e.strides.length)throw new r.ValueError(\"If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length \"+`${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];(0,n.assertPositiveInteger)(this.poolSize,\"poolSize\"),(0,n.assertPositiveInteger)(this.strides,\"strides\"),this.padding=null==e.padding?\"valid\":e.padding,this.dataFormat=null==e.dataFormat?\"channelsLast\":e.dataFormat,(0,o.checkDataFormat)(this.dataFormat),(0,o.checkPaddingMode)(this.padding),this.inputSpec=[new i.InputSpec({ndim:5})]}computeOutputShape(e){e=(0,l.getExactlyOneShape)(e);let t=\"channelsFirst\"===this.dataFormat?e[2]:e[1],s=\"channelsFirst\"===this.dataFormat?e[3]:e[2],o=\"channelsFirst\"===this.dataFormat?e[4]:e[3];return t=(0,a.convOutputLength)(t,this.poolSize[0],this.padding,this.strides[0]),s=(0,a.convOutputLength)(s,this.poolSize[1],this.padding,this.strides[1]),o=(0,a.convOutputLength)(o,this.poolSize[2],this.padding,this.strides[2]),\"channelsFirst\"===this.dataFormat?[e[0],e[1],t,s,o]:[e[0],t,s,o,e[4]]}call(t,s){return(0,e.tidy)(()=>(this.invokeCallHook(t,s),this.poolingFunction((0,l.getExactlyOneTensor)(t),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}exports.Pooling3D=v;class z extends v{constructor(e){super(e)}poolingFunction(e,t,s,i,r){return(0,o.checkDataFormat)(r),(0,o.checkPaddingMode)(i),g(e,t,s,i,r,\"max\")}}exports.MaxPooling3D=z,z.className=\"MaxPooling3D\",e.serialization.registerClass(z);class D extends v{constructor(e){super(e)}poolingFunction(e,t,s,i,r){return(0,o.checkDataFormat)(r),(0,o.checkPaddingMode)(i),g(e,t,s,i,r,\"avg\")}}exports.AveragePooling3D=D,D.className=\"AveragePooling3D\",e.serialization.registerClass(D);class F extends i.Layer{constructor(e){super(e),this.inputSpec=[new i.InputSpec({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,t){throw new r.NotImplementedError}}exports.GlobalPooling1D=F;class f extends F{constructor(e){super(e||{})}call(t,s){return(0,e.tidy)(()=>{const s=(0,l.getExactlyOneTensor)(t);return e.mean(s,1)})}}exports.GlobalAveragePooling1D=f,f.className=\"GlobalAveragePooling1D\",e.serialization.registerClass(f);class b extends F{constructor(e){super(e||{})}call(t,s){return(0,e.tidy)(()=>{const s=(0,l.getExactlyOneTensor)(t);return e.max(s,1)})}}exports.GlobalMaxPooling1D=b,b.className=\"GlobalMaxPooling1D\",e.serialization.registerClass(b);class O extends i.Layer{constructor(e){super(e),this.dataFormat=null==e.dataFormat?\"channelsLast\":e.dataFormat,(0,o.checkDataFormat)(this.dataFormat),this.inputSpec=[new i.InputSpec({ndim:4})]}computeOutputShape(e){return e=e,\"channelsLast\"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]}call(e,t){throw new r.NotImplementedError}getConfig(){const e={dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}exports.GlobalPooling2D=O;class k extends O{call(t,s){return(0,e.tidy)(()=>{const s=(0,l.getExactlyOneTensor)(t);return\"channelsLast\"===this.dataFormat?e.mean(s,[1,2]):e.mean(s,[2,3])})}}exports.GlobalAveragePooling2D=k,k.className=\"GlobalAveragePooling2D\",e.serialization.registerClass(k);class M extends O{call(t,s){return(0,e.tidy)(()=>{const s=(0,l.getExactlyOneTensor)(t);return\"channelsLast\"===this.dataFormat?e.max(s,[1,2]):e.max(s,[2,3])})}}exports.GlobalMaxPooling2D=M,M.className=\"GlobalMaxPooling2D\",e.serialization.registerClass(M);"},"sourceMaps":null,"error":null,"hash":"59d0e3365b2c902a8bae9ec2168f8bd2","cacheData":{"env":{}}}